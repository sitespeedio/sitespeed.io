/*! github.com/micmro/PerfCascade Version:2.6.3 (07/10/2019) */

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).perfCascade=e()}}(function(){return function o(a,s,l){function u(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[t]={exports:{}};a[t][0].call(i.exports,function(e){return u(a[t][1][e]||e)},i,i.exports,o,a,s,l)}return s[t].exports}for(var d="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,n){"use strict";function r(e,t,n){t in e.style?e.style[t]=n:console.warn(new Error("Trying to set non-existing style "+t+" = "+n+" on a <"+e.tagName.toLowerCase()+">."))}function i(e,t,n){t in e||console.warn(new Error("Trying to set non-existing attribute "+t+" = "+n+" on a <"+e.tagName.toLowerCase()+">.")),e.setAttributeNS("",t,n)}function o(t,n){Object.keys(n).forEach(function(e){r(t,e,n[e].toString())})}Object.defineProperty(n,"__esModule",{value:!0}),n.addClass=function(e,t){var n=e.classList;return n?t.split(" ").forEach(function(e){return n.add(e)}):e.setAttribute("class",e.getAttribute("class")+" "+t),e},n.removeClass=function(e,t){var n=e.classList;return n?n.remove(t):e.setAttribute("class",(e.getAttribute("class")||"").replace(new RegExp("(\\s|^)"+t+"(\\s|$)","g"),"$2")),e},n.getParentByClassName=function(e,t){if("function"==typeof e.closest)return e.closest("."+t);for(;e;){if(e.classList.contains(t))return e;e=e.parentElement}return null},n.removeChildren=function(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild);return e},n.getLastItemOfNodeList=function(e){if(e&&0!==e.length)return e.item(e.length-1)},n.forEachNodeList=function(e,t){Array.prototype.forEach.call(e,t)},n.safeSetStyle=r,n.safeSetAttribute=i,n.safeSetStyles=o,n.safeSetAttributes=function(t,n){Object.keys(n).forEach(function(e){i(t,e,n[e].toString())})},n.makeHtmlEl=function(){var e=document.createElement("html");return e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/xmlns/"),e},n.makeBodyEl=function(e,t){void 0===e&&(e={}),void 0===t&&(t="");var n=document.createElement("body");return n.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),o(n,e),n.innerHTML=t,n}},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(t){return function(e){return e.name.toLowerCase()===t}};n.hasHeader=function(e,t){var n=i(t.toLowerCase());return e.some(n)};var o=!!Array.prototype.find;n.getHeader=function(e,t){var n,r=i(t.toLowerCase());return(n=o?e.find(r):e.map(r).pop())?n.value:void 0},n.getHeaders=function(e,t){var n=i(t.toLowerCase());return e.filter(n).map(function(e){return[t,e.value]})}},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o,a,s,l,u,d,c,p,h,f,v,m,g,y=e("./svg"),b=function(e,t,n,r,i,o){var a=y.newSvg("",{x:e,y:t}),s=y.newG("icon "+r,{transform:"scale("+i+")"});return s.appendChild(o),s.appendChild(y.newTitle(n)),a.appendChild(s),a};function w(e,t,n,r){if(void 0===r&&(r=1),void 0===u){u=y.newPath("M6 6q0 .75-.525 1.275Q4.95 7.8 4.2 7.8q-.75 0-1.275-.525Q2.4 6.75 2.4\n  6q0-.75.525-1.275Q3.45 4.2 4.2 4.2q.75 0 1.275.525Q6 5.25 6 6zm9.6 3.6v4.2H2.4V12l3-3\n  1.5 1.5 4.8-4.8zm.9-6.6h-15q-.122 0-.21.09-.09.088-.09.21v11.4q0\n  .122.09.21.088.09.21.09h15q.122 0 .21-.09.09-.088.09-.21V3.3q0-.122-.09-.21Q16.623\n  3 16.5 3zm1.5.3v11.4q0 .62-.44 1.06-.44.44-1.06.44h-15q-.62 0-1.06-.44Q0 15.32 0\n  14.7V3.3q0-.62.44-1.06.44-.44 1.06-.44h15q.62 0 1.06.44.44.44.44 1.06z")}return b(e,t,n,"icon-image",r,u.cloneNode(!1))}function C(e,t,n,r){if(void 0===r&&(r=1),void 0===p){p=y.newPath("M6 6q0 .75-.525 1.275Q4.95 7.8 4.2 7.8q-.75 0-1.275-.525Q2.4 6.75 2.4\n  6q0-.75.525-1.275Q3.45 4.2 4.2 4.2q.75 0 1.275.525Q6 5.25 6 6zm9.6 3.6v4.2H2.4V12l3-3\n  1.5 1.5 4.8-4.8zm.9-6.6h-15q-.122 0-.21.09-.09.088-.09.21v11.4q0\n  .122.09.21.088.09.21.09h15q.122 0 .21-.09.09-.088.09-.21V3.3q0-.122-.09-.21Q16.623\n  3 16.5 3zm1.5.3v11.4q0 .62-.44 1.06-.44.44-1.06.44h-15q-.62 0-1.06-.44Q0 15.32 0\n  14.7V3.3q0-.62.44-1.06.44-.44 1.06-.44h15q.62 0 1.06.44.44.44.44 1.06z")}return b(e,t,n,"icon-warning",r,p.cloneNode(!1))}n.noTls=function(e,t,n,r){void 0===r&&(r=1),void 0===i&&(i=y.newPath("M18 6.216v2.77q0 .28-.206.486-.205.206-.486.206h-.693q-.28 0-.486-.206-.21-.205-.21\n  -.487v-2.77q0-1.145-.81-1.957-.813-.81-1.96-.81-1.146 0-1.957.81-.81.812-.81 1.958v2.077h1.037q.434\n  0 .737.303.302.303.302.736v6.23q0 .433-.305.736t-.737.303H1.038q-.433 0-.736-.3Q0 15.996 0\n  15.56V9.33q0-.433.303-.736t.735-.303h7.27V6.218q0-2 1.422-3.423 1.423-1.423 3.424-1.423 2\n  0 3.424 1.424Q18 4.214 18 6.216"));return b(e,t,n,"icon-no-tls",r,i.cloneNode(!1))},n.err3xx=function(e,t,n,r){void 0===r&&(r=1),void 0===o&&(o=y.newPath("M17 2.333V7q0 .27-.198.47-.198.197-.47.197h-4.665q-.438 0-.615-.417-.177-.406.146-.72l1.437-1.436Q11.095\n  3.667 9 3.667q-1.083 0-2.068.422-.984.42-1.703 1.14-.72.715-1.14 1.7-.426.984-.426 2.07 0 1.08.422 2.065.42.984\n  1.14 1.703.718.72 1.702 1.14.984.422 2.067.422 1.24 0 2.344-.54 1.104-.543 1.864-1.533.073-.105.24-.126.146 0\n  .26.095l1.427 1.436q.095.084.1.214.006.13-.08.234-1.133 1.376-2.75 2.13Q10.793 17 9 17q-1.625\n  0-3.104-.635-1.48-.636-2.552-1.71-1.073-1.072-1.71-2.55Q1 10.625 1 9t.635-3.104q.636-1.48 1.71-2.552\n  1.072-1.073 2.55-1.71Q7.375 1 9 1q1.53 0 2.964.578 1.432.578 2.546\n  1.63l1.355-1.343q.302-.323.73-.146.405.173.405.61z"));return b(e,t,n,"icon-redirect",r,o.cloneNode(!1))},n.err4xx=function(e,t,n,r){return void 0===r&&(r=1),C(e,t,n,r)},n.err5xx=function(e,t,n,r){return void 0===r&&(r=1),C(e,t,n,r)},n.plain=function(e,t,n,r){void 0===r&&(r=1),void 0===a&&(a=y.newPath("M15.247 4.393q.25.25.43.678.177.43.177.79v10.287q0\n  .357-.25.607t-.607.25h-12q-.357 0-.607-.25t-.25-.606V1.858q0-.358.25-.608T2.997 1h8q.357 0\n  .786.18.428.177.678.427zm-3.964-2.18V5.57h3.357q-.09-.256-.196-.364L11.65 2.41q-.108-.106-.367\n  -.196zm3.428 13.644V6.714H11q-.357 0-.607-.25t-.25-.607V2.143h-6.86v13.714H14.71zM5.57\n  8.143q0-.125.08-.205.08-.08.204-.08h6.286q.125 0 .205.08.08.08.08.205v.57q0 .126-.08.207-.08.08\n  -.205.08H5.854q-.125 0-.205-.08-.08-.08-.08-.206v-.57zm6.57 2q.125 0 .205.08.08.08.08.206V11q0\n  .125-.08.205-.08.08-.205.08H5.854q-.125 0-.205-.08-.08-.08-.08-.205v-.57q0-.126.08-.207.08-.08.2\n  -.08h6.286zm0 2.286q.125 0 .205.08.08.08.08.2v.572q0 .125-.08.205-.08.08-.205.08H5.854q-.125 0-.205\n  -.08-.08-.08-.08-.205v-.572q0-.124.08-.204.08-.08.2-.08h6.286z"));return b(e,t,n,"icon-plain",r,a.cloneNode(!1))},n.other=function(e,t,n,r){void 0===r&&(r=1),void 0===s&&(s=y.newPath("M10.8 13.5v3q0 .2-.15.35-.15.15-.35.15h-3q-.2 0-.35-.15-.15-.15-.15-.35v-3q0-.2.15-.35.15\n  -.15.35-.15h3q.2 0 .35.15.15.15.15.35zM14.75 6q0 .675-.193 1.262-.193.588-.437.957-.244.365\n  -.688.74-.443.375-.718.543-.275.17-.763.444-.51.286-.852.81-.344.526-.344.84 0 .21-.15.405-.15.194\n  -.35.194h-3q-.186 0-.318-.23-.13-.234-.13-.47v-.564q0-1.037.812-1.956.812-.917 1.787-1.355.74-.336\n  1.05-.7.314-.362.314-.95 0-.524-.583-.924-.58-.4-1.343-.4-.814 0-1.35.362-.44.312-1.34 1.437-.16.2\n  -.386.2-.15 0-.313-.1L3.4 4.987q-.16-.124-.193-.312-.03-.188.07-.35Q5.277 1 9.077 1q1 0 2.01.387\n  1.01.388 1.825 1.038.812.65 1.325 1.594.51.94.51 1.98z"));return b(e,t,n,"icon-other",r,s.cloneNode(!1))},n.javascript=function(e,t,n,r){void 0===r&&(r=1),void 0===l&&(l=y.newPath("M13.516 2.9c-2.766 0-4.463 1.522-4.463 3.536 0 1.733 1.295 2.82 3.256 3.52\n  1.413.49 1.973.926 1.973 1.644 0 .787-.647 1.296-1.873 1.296-1.137 0-2.26-.368-2.96-.736l-.54\n  2.19c.665.367 1.996.734 3.344.734 3.238 0 4.744-1.68 4.744-3.658\n  0-1.68-.966-2.767-3.05-3.537-1.54-.6-2.186-.93-2.186-1.68 0-.6.56-1.14 1.714-1.14\n  1.137 0 1.996.33 2.45.56l.596-2.138c-.7-.332-1.663-.596-3.01-.596zm-9.032.192v7.44c0\n  1.822-.702 2.33-1.822 2.33-.525 0-.997-.09-1.365-.212L1 14.805c.525.175 1.33.28 1.96.28\n  2.574 0 4.185-1.173 4.185-4.534V3.097h-2.66z"));return b(e,t,n,"icon-js",r,l.cloneNode(!1))},n.image=w,n.svg=function(e,t,n,r){return void 0===r&&(r=1),w(e,t,n,r)},n.html=function(e,t,n,r){void 0===r&&(r=1),void 0===d&&(d=y.newPath("M5.626 13.31l-.492.492q-.098.098-.226.098t-.226-.098L.098 9.22Q0 9.12 0\n  8.99q0-.127.098-.226L4.682 4.18q.098-.097.226-.097t.226.098l.492.49q.1.1.1.23t-.1.23L1.76\n  8.99l3.866 3.866q.1.098.1.226t-.1.226zM11.44 2.815l-3.67\n  12.7q-.04.127-.152.19-.113.065-.23.026l-.61-.162q-.13-.04-.193-.152-.064-.112-.024-.24l3.67-12.698q.04\n  -.128.157-.192.113-.064.23-.025l.61.167q.13.04.193.152.063.113.023.24zM17.9\n  9.22l-4.582 4.58q-.098.098-.226.098t-.226-.098l-.492-.492q-.1-.098-.1-.226t.1-.226L16.24\n  8.99l-3.867-3.865q-.1-.098-.1-.226t.1-.23l.492-.49q.098-.1.226-.1t.23.1l4.58 4.583q.1.1.1.226 0 .13-.1.23z"));return b(e,t,n,"icon-html",r,d.cloneNode(!1))},n.css=function(e,t,n,r){void 0===r&&(r=1),void 0===c&&(c=y.newPath("M15.436.99q.625 0 1.095.416.47.415.47 1.04 0 .564-.4 1.35-2.97 5.624-4.16 6.724-.865.814\n  -1.946.814-1.127 0-1.935-.827-.81-.827-.81-1.962 0-1.144.822-1.895l5.705-5.175Q14.8.99\n  15.435.99zM7.31 10.232q.35.68.953 1.162.603.483 1.345.68l.01.634q.035 1.904-1.16 3.102-1.192\n  1.198-3.114 1.198-1.1 0-1.948-.416-.85-.415-1.364-1.14-.514-.723-.773-1.635Q1 12.905 1\n  11.85l.366.268q.304.224.555.398.25.175.53.327.277.15.41.15.368 0 .493-.33.224-.59.515-1.005.29\n  -.415.62-.68.332-.263.788-.424.455-.16.92-.228.465-.066 1.118-.094z"));return b(e,t,n,"icon-css",r,c.cloneNode(!1))},n.warning=C,n.error=function(e,t,n,r){void 0===r&&(r=1),void 0===h&&(h=y.newPath("M9 1q2.177 0 4.016 1.073 1.838 1.073 2.91 2.91Q17 6.823 17 9q0 2.177-1.073 4.016-1.073\n  1.838-2.91 2.91Q11.177 17 9 17q-2.177 0-4.016-1.073-1.838-1.073-2.91-2.91Q1 11.177 1 9q0-2.177 1.073-4.016\n  1.073-1.838 2.91-2.91Q6.823 1 9 1zm1.333 12.99v-1.98q0-.145-.093-.244-.094-.1-.23-.1h-2q-.135 0-.24.105\n  -.103.106-.103.24v1.98q0 .136.104.24.106.104.24.104h2q.137 0 .23-.1.094-.098.094-.243zm-.02-3.584l.187\n  -6.468q0-.125-.104-.188-.104-.084-.25-.084H7.854q-.146 0-.25.084-.104.062-.104.188l.177 6.468q0\n  .104.104.183.106.076.25.076h1.93q.146 0 .245-.078.1-.08.11-.184z"));return b(e,t,n,"icon-no-gzip",r,h.cloneNode(!1))},n.font=function(e,t,n,r){void 0===r&&(r=1),void 0===f&&(f=y.newPath("M7.97 5.754L6.338 10.08q.317 0 1.312.02.994.02 1.542.02.183 0 .548-.02-.836-2.432-1.77\n  -4.345zM1 16.38l.02-.76q.22-.068.538-.12.317-.053.548-.102.23-.048.476-.14.245-.09.428-.278.182\n  -.187.298-.485l2.28-5.923 2.69-6.962H9.51q.077.135.105.202l1.972 4.615q.317.75 1.02 2.476.7 1.726\n  1.095 2.64.144.327.558 1.39.413 1.062.692 1.62.192.432.336.547.183.145.847.284.663.14.807.197.058.37.058.55\n  0 .04-.005.13t-.005.128q-.605 0-1.827-.076-1.22-.08-1.836-.08-.73 0-2.067.07-1.337.067-1.712.076 0-.412.04\n  -.75l1.258-.27q.01 0 .12-.022l.15-.033q.038-.01.14-.044.1-.034.143-.06l.1-.08q.06-.048.082-.106.024-.056.024\n  -.133 0-.152-.298-.926t-.693-1.71q-.392-.93-.402-.96l-4.325-.02q-.25.56-.734 1.88-.487 1.32-.487 1.56 0\n  .213.136.362.134.15.418.235.285.087.467.13.185.044.55.08.366.04.395.04.01.183.01.558 0 .087-.02.26-.558\n  0-1.678-.095-1.12-.098-1.678-.098-.08 0-.26.04-.18.037-.208.037-.77.136-1.808.136Z"));return b(e,t,n,"icon-font",r,f.cloneNode(!1))},n.flash=function(e,t,n,r){void 0===r&&(r=1),void 0===v&&(v=y.newPath("M13.724 4.738q.195.216.076.476L7.96 17.73q-.142.27-.456.27-.043 0-.15-.022-.185-.054-.277\n  -.205-.092-.15-.05-.325l2.132-8.74L4.765 9.8q-.044.01-.13.01-.195 0-.336-.118-.193-.162-.14-.422L6.337.346q.043\n  -.15.173-.25Q6.64 0 6.81 0h3.548q.206 0 .346.135.14.135.14.32 0 .086-.053.194L8.94 5.654l4.285\n  -1.06q.086-.02.13-.02.205 0 .367.16z"));return b(e,t,n,"icon-flash",r,v.cloneNode(!1))},n.video=function(e,t,n,r){void 0===r&&(r=1),void 0===m&&(m=y.newPath("M17 4.107v9.714q0 .38-.348.53-.116.05-.223.05-.25 0-.41-.17l-3.6-3.6v1.48q0 1.067-.757 1.82-.754.756\n  -1.817.756H3.57q-1.06 0-1.816-.753Q1 13.17 1 12.106V5.82q0-1.06.754-1.816.755-.754 1.817-.754h6.29q1.07 0\n  1.82.754.76.755.76 1.817V7.3l3.597-3.59q.16-.17.4-.17.107 0 .22.045.35.153.35.528z"));return b(e,t,n,"icon-video",r,m.cloneNode(!1))},n.audio=function(e,t,n,r){void 0===r&&(r=1),void 0===g&&(g=y.newPath("M8.385 3.756v10.46q0 .252-.183.434-.183.183-.433.183t-.44-.183l-3.2-3.202H1.61q-.25\n  0-.43-.183-.18-.182-.18-.432V7.14q0-.25.182-.432.182-.183.432-.183h2.52l3.202-3.202q.182-.183.432\n  -.183t.43.183q.182.183.182.433zm3.692 5.23q0 .73-.41 1.36-.407.63-1.08.9-.097.048-.24.048-.25 0\n  -.434-.178-.182-.177-.182-.437 0-.21.12-.35.12-.14.28-.24.16-.1.33-.22.166-.12.28-.34.117-.22.117\n  -.55 0-.33-.115-.55-.115-.224-.28-.344-.163-.12-.326-.22-.165-.1-.28-.24-.116-.14-.116-.34 0-.26.183\n  -.44t.43-.176q.146 0 .24.048.676.26 1.08.894.41.636.41 1.367zm2.46 0q0 1.472-.816 2.717t-2.16 1.813q\n  -.12.048-.24.048-.26 0-.44-.183-.18-.18-.18-.43 0-.37.378-.56.54-.28.73-.42.713-.52 1.11-1.302.4\n  -.783.4-1.667 0-.886-.4-1.67-.4-.783-1.11-1.303-.192-.145-.73-.424-.376-.192-.376-.567 0-.25.183\n  -.434.183-.18.433-.18.123 0 .25.047 1.344.567 2.16 1.812.82 1.244.82 2.716zm2.463 0q0 2.212\n  -1.22 4.063-1.222 1.85-3.25 2.72-.126.05-.25.05-.25 0-.434-.19-.183-.183-.183-.433 0-.346.375\n  -.568.068-.04.217-.1.15-.064.216-.1.45-.244.79-.494 1.19-.875 1.85-2.183.67-1.306.67-2.777 0\n  -1.47-.663-2.78-.664-1.304-1.846-2.18-.346-.25-.79-.49-.065-.035-.214-.1-.15-.06-.22-.1\n  -.375-.22-.375-.57 0-.25.183-.43.183-.182.433-.182.123 0 .25.047 2.027.876 3.25 2.727Q17 6.775 17 8.99Z"));return b(e,t,n,"icon-audio",r,g.cloneNode(!1))}},{"./svg":6}],4:[function(e,t,n){"use strict";function r(e,t){var n=0;if(e&&!(e.length<1))for(var r=e.length;n<r;){if(t(e[n],n))return n;n++}}Object.defineProperty(n,"__esModule",{value:!0}),n.contains=function(e,t){return e.some(function(e){return e===t})},n.findIndex=r,n.find=function(e,t){var n=r(e,t);if(void 0!==n)return e[n]},n.resourceUrlFormatter=function(e,t){if(e.length<t)return e.replace(/https?:\/\//,"");var n,r,i,o=(n=e,r=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),{authority:(i=n.match(r)||[])[4],fragment:i[9],path:i[5],query:i[7],scheme:i[2]});if((o.authority+o.path).length<t)return o.authority+o.path;var a=Math.floor(t/2)-3,s=Math.floor(t/2)-5,l=o.path.split("/");return o.authority.length>a?o.authority.substr(0,a)+"..."+l[l.length-1].substr(-s):o.authority+"..."+l[l.length-1].substr(-s)},n.roundNumber=function(e,t){return void 0===t&&(t=2),Math.round(e*Math.pow(10,t))/Math.pow(10,t)},n.isInStatusCodeRange=function(e,t,n){return t<=e&&e<=n};var i=/[^a-z-]/g;n.toCssClass=function(e){return e.toLowerCase().replace(i,"")},n.pluralize=function(e,t){return e+(1<t?"s":"")},n.isTabUp=function(e){return 9===e.which&&e.shiftKey},n.isTabDown=function(e){return 9===e.which&&!e.shiftKey}},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./misc");function i(e){if("function"==typeof e.toString)return e.toString();throw TypeError("Can't convert type "+typeof e+" to string")}function o(e,t){var n=function(e){return t(e)?e:void 0};if("string"!=typeof e)return n(e);var r=parseInt(e,10);return isFinite(r)?n(r):void 0}n.parseAndFormat=function(e,t,n){if(void 0===n&&(n=i),void 0!==e){var r=t(e);if(void 0!==r)return n(r)}},n.parseNonEmpty=function(e){return 0<e.trim().length?e:void 0},n.parseDate=function(e){var t=new Date(e);if(!isNaN(t.getTime()))return t},n.parseNonNegative=function(e){if(null!=e)return o(e,function(e){return 0<=e})},n.parsePositive=function(e){if(null!=e)return o(e,function(e){return 0<e})},n.formatMilliseconds=function(e){return void 0!==e?r.roundNumber(e,3)+" ms":void 0};n.formatSeconds=function(e){if(void 0!==e){var t=r.roundNumber(e,3)+" s";return 86400<e?t+" (~"+r.roundNumber(e/86400,0)+" days)":3600<e?t+" (~"+r.roundNumber(e/3600,0)+" hours)":60<e?t+" (~"+r.roundNumber(e/60,0)+" minutes)":t}},n.formatDateLocalized=function(e){return void 0!==e?e.toUTCString()+"<br/>(local time: "+e.toLocaleString()+")":void 0};n.formatBytes=function(e){if(void 0===e)return"";var t=e+" bytes";return 1048576<=e?t+" (~"+r.roundNumber(e/1048576,1)+" MB)":1024<=e?t+" (~"+r.roundNumber(e/1024,0)+" kB)":t};var a={'"':"&quot","&":"&amp","'":"&#039","<":"&lt",">":"&gt"},s=new RegExp(Object.keys(a).join("|"),"g");n.escapeHtml=function(e){if(void 0===e&&(e=""),null==e)return"";if("string"!=typeof e){if("function"!=typeof e.toString)throw TypeError("Invalid parameter");e=e.toString()}return e.replace(s,function(e){return a[e]})};var l=new RegExp("[^-A-Za-z0-9+&@#/%?=~_|!:,.;()]","g");n.sanitizeUrlForLink=function(e){var t=e.replace(l,"_");return 0===t.indexOf("http://")||0===t.indexOf("https://")?t:(console.warn("skipped link, due to potentially unsafe url",e),"")};var u=new RegExp("[^a-zA-Z0-9]","g");function d(e){return"number"==typeof e?e:"string"==typeof e?parseInt(e,10):void 0}n.sanitizeAlphaNumeric=function(e){return e.toString().replace(u,"")},n.toInt=d,n.validateOptions=function(n){var e=function(e){var t=d(n[e]);if(void 0===t)throw TypeError('option "'+e+'" needs to be a number');n[e]=t},t=function(e){n[e]=!!n[e]};return e("leftColumnWidth"),e("rowHeight"),e("selectedPage"),t("showAlignmentHelpers"),t("showIndicatorIcons"),t("showMimeTypeIcon"),n}},{"./misc":4}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var p=e("./dom"),h="http://www.w3.org/2000/svg";function r(e,t){var n=void 0===t?{}:t,r=n.attributes,i=void 0===r?{}:r,o=n.css,a=void 0===o?{}:o,s=n.text,l=void 0===s?"":s,u=n.className,d=void 0===u?"":u,c=document.createElementNS(h,e);return d&&p.addClass(c,d),l&&(c.textContent=l),p.safeSetStyles(c,a),p.safeSetAttributes(c,i),c}function i(e,t,n){return void 0===n&&(n={}),r("svg",{className:e,attributes:t,css:n})}n.newSvg=i,n.newG=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),r("g",{className:e,attributes:t,css:n})},n.newClipPath=function(e){return r("clipPath",{attributes:{id:e}})},n.newForeignObject=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n={}),r("foreignObject",{attributes:e,className:t,css:n})},n.newA=function(e){return r("a",{className:e})},n.newRect=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n={}),r("rect",{attributes:e,className:t,css:n})},n.newLine=function(e,t){return void 0===t&&(t=""),r("line",{className:t,attributes:e})},n.newTitle=function(e){var t=document.createElementNS(h,"title");return t.setAttribute("text",e),t},n.newTextEl=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),r("text",{text:e,attributes:t,css:n})},n.newPath=function(e){var t=document.createElementNS(h,"path");return t.setAttribute("d",e),t};var o,a,s=function(){void 0===o&&(o=i("water-fall-chart temp",{className:"water-fall-chart temp",width:"9999px"},{left:"0px",position:"absolute",top:"0px",visibility:"hidden","z-index":"99999"}));return void 0===o.parentElement&&window.document.body.appendChild(o),clearTimeout(a),a=setTimeout(function(){o.parentNode.removeChild(o)},500),o};n.getNodeTextWidth=function(e,t){if(void 0===t&&(t=!1),0===(e.textContent||"").length)return 0;var n,r,i=s();t?(r=e.style.textShadow,n=e):((n=e.cloneNode(!0)).setAttribute("x","0"),n.setAttribute("y","0")),n.style.textShadow="0",i.appendChild(n),window.document.body.appendChild(i);var o=n.getComputedTextLength();return t&&void 0!==r&&(e.style.textShadow=r),o}},{"./dom":1}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.makeLegend=function(){var e=document.createElement("ul");return e.className="resource-legend",e.innerHTML='\n        <li class="legend-blocked" title="Time spent in a queue waiting for a network connection.">Blocked</li>\n        <li class="legend-dns" title="DNS resolution time.">DNS</li>\n        <li class="legend-connect" title="Time required to create TCP connection.">Connect</li>\n        <li class="legend-ssl" title="Time required for SSL/TLS negotiation.">SSL (TLS)</li>\n        <li class="legend-send" title="Time required to send HTTP request to the server.">Send</li>\n        <li class="legend-wait" title="Waiting for a response from the server.">Wait</li>\n        <li class="legend-receive"\n        title="Time required to read entire response from the server (or cache).">Receive</li>',e}},{}],8:[function(e,t,n){"use strict";var a=this&&this.__assign||function(){return(a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./helpers/parse"),l=e("./legend/legend"),u=e("./paging/paging"),i=e("./transformers/har"),d=e("./waterfall/svg-chart"),c={leftColumnWidth:25,legendHolder:void 0,onParsed:void 0,pageSelector:void 0,rowHeight:23,selectedPage:0,showAlignmentHelpers:!0,showIndicatorIcons:!0,showMimeTypeIcon:!0},o={showUserTiming:!1,showUserTimingEndMarker:!1};n.makeLegend=function(){return l.makeLegend()},n.fromHar=function(e,t){void 0===t&&(t={});var n=a({},o,t),r=i.transformDoc(e,n);return"function"==typeof t.onParsed&&t.onParsed(r),function(e,t){void 0===t&&(t={}),void 0!==t.leftColumnWith&&(console.warn("Depreciation Warning: The option 'leftColumnWith' has been fixed to 'leftColumnWidth', please update your code as this will get deprecated in the future"),t.leftColumnWidth=t.leftColumnWith);var i=s.validateOptions(a({},c,t)),n=new u.default(e,i.selectedPage),o=d.createWaterfallSvg(n.getSelectedPage(),i);return n.onPageUpdate(function(e,t){var n=o.parentElement,r=d.createWaterfallSvg(t,i);n.replaceChild(r,o),o=r}),i.pageSelector&&n.initPagingSelectBox(i.pageSelector),i.legendHolder&&(i.legendHolder.innerHTML="",i.legendHolder.appendChild(l.makeLegend())),o}(r,t)}},{"./helpers/parse":5,"./legend/legend":7,"./paging/paging":9,"./transformers/har":13,"./waterfall/svg-chart":27}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../helpers/dom"),r=function(){function e(e,t){void 0===t&&(t=0),this.doc=e,this.selectedPageIndex=t,this.onPageUpdateCbs=[],t>=this.doc.pages.length&&(this.selectedPageIndex=this.doc.pages.length-1)}return e.prototype.getPageCount=function(){return this.doc.pages.length},e.prototype.getSelectedPage=function(){return this.doc.pages[this.selectedPageIndex]},e.prototype.getSelectedPageIndex=function(){return this.selectedPageIndex},e.prototype.setSelectedPageIndex=function(e){var t=this;if(this.selectedPageIndex!==e){if(e<0||e>=this.getPageCount())throw new Error("Page does not exist - Invalid pageIndex selected");this.selectedPageIndex=e;var n=this.doc.pages[this.selectedPageIndex];this.onPageUpdateCbs.forEach(function(e){e(t.selectedPageIndex,n)})}},e.prototype.onPageUpdate=function(e){if(1<this.getPageCount())return this.onPageUpdateCbs.push(e)},e.prototype.initPagingSelectBox=function(r){var i=this,n=this;this.getPageCount()<=1?r.style.display="none":(o.removeChildren(r),this.doc.pages.forEach(function(e,t){var n=new Option(e.title,t.toString(),!1,t===i.selectedPageIndex);r.add(n)}),r.style.display="block",r.addEventListener("change",function(e){var t=parseInt(e.target.value,10);n.setSelectedPageIndex(t)}))},e}();n.default=r},{"../helpers/dom":1}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var w=e("../helpers/har"),C=e("../helpers/parse"),x=e("./helpers"),T=function(e,t){return[e,C.parseAndFormat(t,C.parsePositive,C.formatBytes)]},q=function(e,t){return[e,C.parseAndFormat(t,C.parsePositive)]},S=function(e){return 1<e.length&&void 0!==e[1]&&""!==e[1]};n.getKeys=function(e,t,n,r){var i,o,a,s,l,u,d,c,p,h,f,v,m,g=e.request.headers,y=e.response.headers,b=function(e){return[e.name,e.value]};return{general:(f=e,v=n,m=t,[["Request Number","#"+m],["Started",new Date(f.startedDateTime).toLocaleString()+(0<v?" ("+C.formatMilliseconds(v)+" after page request started)":"")],["Duration",C.formatMilliseconds(f.time)],["Error/Status Code",f.response.status+" "+f.response.statusText],["Server IPAddress",f.serverIPAddress],["Connection",f.connection],["Browser Priority",f._priority||f._initialPriority],["Was pushed",C.parseAndFormat(f._was_pushed,C.parsePositive,function(){return"yes"})],["Initiator (Loaded by)",f._initiator],["Initiator Line",f._initiator_line],["Initiator Type",f._initiator_type],["Host",w.getHeader(f.request.headers,"Host")],["IP",f._ip_addr],["Client Port",C.parseAndFormat(f._client_port,C.parsePositive)],["Expires",f._expires],["Cache Time",C.parseAndFormat(f._cache_time,C.parsePositive,C.formatSeconds)],["CDN Provider",f._cdn_provider],T("ObjectSize",f._objectSize),T("Bytes In (downloaded)",f._bytesIn),T("Bytes Out (uploaded)",f._bytesOut),T("JPEG Scan Count",f._jpeg_scan_count),T("Gzip Total",f._gzip_total),T("Gzip Save",f._gzip_save),T("Minify Total",f._minify_total),T("Minify Save",f._minify_save),T("Image Total",f._image_total),T("Image Save",f._image_save)].filter(S)),request:(c=e,p=c.request,h=function(e){return w.getHeaders(p.headers,e)},x.flattenKvTuple([["Method",p.method],["HTTP Version",p.httpVersion],T("Bytes Out (uploaded)",c._bytesOut),T("Headers Size",p.headersSize),T("Body Size",p.bodySize),["Comment",C.parseAndFormat(p.comment,C.parseNonEmpty)],h("User-Agent"),h("Host"),h("Connection"),h("Accept"),h("Accept-Encoding"),h("Expect"),h("Forwarded"),h("If-Modified-Since"),h("If-Range"),h("If-Unmodified-Since"),q("Querystring parameters count",p.queryString.length),q("Cookies count",p.cookies.length)]).filter(S)),requestHeaders:g.map(b).filter(S),response:function(e){var t,n=e.response,r=n.content,i=n.headers,o=function(e,t){return void 0===t&&(t=e),w.getHeaders(i,t)},a=function(e){var t=w.getHeader(i,e);return[e,C.parseAndFormat(t,C.parseDate,C.formatDateLocalized)]},s=w.getHeader(i,"Content-Length");r.size&&-1!==r.size&&s!==r.size.toString()&&(t=r.size);var l=w.getHeader(i,"Content-Type");return e._contentType&&e._contentType!==l&&(l=l+" | "+e._contentType),x.flattenKvTuple([["Status",n.status+" "+n.statusText],["HTTP Version",n.httpVersion],T("Bytes In (downloaded)",e._bytesIn),T("Headers Size",n.headersSize),T("Body Size",n.bodySize),["Content-Type",l],o("Cache-Control"),o("Content-Encoding"),a("Expires"),a("Last-Modified"),o("Pragma"),T("Content-Length",s),T("Content Size",t),T("Content Compression",r.compression),o("Connection"),o("ETag"),o("Accept-Patch"),["Age",C.parseAndFormat(w.getHeader(i,"Age"),C.parseNonNegative,C.formatSeconds)],o("Allow"),o("Content-Disposition"),o("Location"),o("Strict-Transport-Security"),o("Trailer (for chunked transfer coding)","Trailer"),o("Transfer-Encoding"),o("Upgrade"),o("Vary"),o("Timing-Allow-Origin"),["Redirect URL",C.parseAndFormat(n.redirectURL,C.parseNonEmpty)],["Comment",C.parseAndFormat(n.comment,C.parseNonEmpty)]]).filter(S)}(e),responseHeaders:y.map(b).filter(S),timings:(i=e,o=n,a=r,s=i.timings,l=function(e){return C.parseAndFormat(e,C.parseNonNegative,C.formatMilliseconds)},u="number"!=typeof o||"number"!=typeof a?void 0:a-o,d=l(s.connect),s.ssl&&0<s.ssl&&s.connect&&(d=d+" (without TLS: "+l(s.connect-s.ssl)+")"),[["Total",C.formatMilliseconds(u)],["Blocked",l(s.blocked)],["DNS",l(s.dns)],["Connect",d],["SSL (TLS)",l(s.ssl)],["Send",C.formatMilliseconds(s.send)],["Wait",C.formatMilliseconds(s.wait)],["Receive",C.formatMilliseconds(s.receive)]].filter(S))}}},{"../helpers/har":2,"../helpers/parse":5,"./helpers":14}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("../helpers/har"),l=e("../helpers/misc"),u=e("../helpers/parse");function d(e,t){var n=e.response.headers;return!s.hasHeader(n,"Content-Encoding")&&function(e,t){if(e.response.bodySize<1e3)return!1;if(l.contains(["html","css","javascript","svg","plain"],t))return!0;var n=e.response.content.mimeType;return!(!l.contains(["text"],n.split("/")[0])&&!l.contains(["application/vnd.ms-fontobject","application/x-font-opentype","application/x-font-truetype","application/x-font-ttf","application/xml","font/eot","font/opentype","font/otf","image/vnd.microsoft.icon"],n.split(";")[0]))}(e,t)}function c(e){return 0===e.request.url.indexOf("https://")}n.documentIsSecure=function(e){var t=e.filter(function(e){return!e.response.redirectURL})[0];return void 0===t?0<e.length&&c(e[0]):c(t)},n.collectIndicators=function(e,t,n,r){var i,o,a=[];return void 0!==(i=e)._was_pushed&&null!==i._was_pushed&&1===u.toInt(i._was_pushed)&&a.push({description:"Response was pushed by the server using HTTP2 push.",displayType:"inline",icon:"push",id:"push",title:"Response was pushed by the server",type:"info"}),!n||c(e)||(o=e,0===t&&o.response.redirectURL)||a.push({description:"Insecure request, it should use HTTPS.",displayType:"icon",id:"noTls",title:"Insecure Connection",type:"error"}),function(e){if(!e.request.method||"get"!==e.request.method.toLowerCase())return!1;if(204===e.response.status||!l.isInStatusCodeRange(e.response.status,200,299))return!1;var t=e.response.headers;return!(s.hasHeader(t,"Cache-Control")||s.hasHeader(t,"Expires"))}(e)&&a.push({description:"The response is not allow to be cached on the client. Consider setting 'Cache-Control' headers.",displayType:"icon",id:"noCache",title:"Response not cached",type:"error"}),d(e,r)&&a.push({description:"The response is not compressed. Consider enabling HTTP compression on your server.",displayType:"icon",id:"noGzip",title:"no gzip",type:"error"}),!e.response.content.mimeType&&l.isInStatusCodeRange(e.response.status,200,299)&&204!==e.response.status&&a.push({description:"Response doesn't contain a 'Content-Type' header.",displayType:"icon",id:"warning",title:"No MIME Type defined",type:"warning"}),a}},{"../helpers/har":2,"../helpers/misc":4,"../helpers/parse":5}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var y=e("../helpers/misc"),b=e("../helpers/parse"),w=e("./extract-details-keys"),C=e("./helpers"),x=/\\n/g,T=/\n/g,q=/\\t/g;function S(e,t,n){return void 0===n&&(n=""),{content:t,tabClass:n,title:e}}function E(e,t,n){return void 0===n&&(n=""),{renderContent:t,tabClass:n,title:e}}n.makeTabs=function(e,t,n,r,i,o){var a,s,l,u,d,c,p,h,f,v,m=[],g=w.getKeys(e,t,r,i);return m.push(function(e,t){var n=C.makeDefinitionList(e);if(0===t.length)return S("General",n);var r="<h2>General</h2>\n<dl>"+n+"<dl>",i="",o=t.filter(function(e){return"error"===e.type}).map(function(e){return[e.title,e.description]}),a=t.filter(function(e){return"warning"===e.type}).map(function(e){return[e.title,e.description]}),s=t.filter(function(e){return"error"!==e.type&&"warning"!==e.type}).map(function(e){return[e.title,e.description]});return 0<o.length&&(i+='<h2 class="no-border">'+y.pluralize("Error",o.length)+"</h2>\n    <dl>"+C.makeDefinitionList(o)+"</dl>"),0<a.length&&(i+='<h2 class="no-border">'+y.pluralize("Warning",a.length)+"</h2>\n    <dl>"+C.makeDefinitionList(a)+"</dl>"),0<s.length&&(i+='<h2 class="no-border">Info</h2>\n    <dl>'+C.makeDefinitionList(s)+"</dl>"),S("General",i+r)}(g.general,o)),m.push((a=g.request,s=g.requestHeaders,S("Request","<dl>\n      "+C.makeDefinitionList(a)+"\n    </dl>\n    <h2>All Request Headers</h2>\n    <dl>\n      "+C.makeDefinitionList(s)+"\n    </dl>"))),m.push((l=g.response,u=g.responseHeaders,S("Response","<dl>\n      "+C.makeDefinitionList(l)+"\n    </dl>\n    <h2>All Response Headers</h2>\n    <dl>\n      "+C.makeDefinitionList(u)+"\n    </dl>"))),m.push(S("Timings",C.makeDefinitionList(g.timings,!0))),m.push((d=e,E("Raw Data",function(){return'\n      <button class="copy-tab-data">Copy Raw Data to Clipboard</button>\n      <pre><code>'+b.escapeHtml(JSON.stringify(d,null,2))+"</code></pre>\n      "},"raw-data rendered-data"))),"image"===n&&m.push((c=e,E("Preview",function(e){return'<img class="preview" style="max-height:'+(e-100)+'px"\n    data-src="'+b.sanitizeUrlForLink(c.request.url)+'" />'}))),e.response.content&&0===e.response.content.mimeType.indexOf("text/")&&e.response.content.text&&m.push((p=e.response.content.text||"",h=p.replace(x,"\n").replace(q,"\t"),f=p.match(T),E("Content ("+(v=f?f.length:1)+" Line"+(1<v?"s":"")+")",function(){return'\n    <button class="copy-tab-data">Copy Content to Clipboard</button>\n    <pre><code>'+b.escapeHtml(h)+"</code></pre>\n    "},"content rendered-data"))),m.filter(function(e){return void 0!==e})}},{"../helpers/misc":4,"../helpers/parse":5,"./extract-details-keys":10,"./helpers":14}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../helpers/misc"),p=e("../helpers/parse"),h=e("./har-heuristics"),f=e("./har-tabs"),v=e("./helpers");n.transformDoc=function(e,n){var r=void 0!==e.log?e.log:e;return{pages:m(r).map(function(e,t){return i(r,t,n)})}};var m=function(e){return e.pages&&0<e.pages.length?e.pages:[{id:"",pageTimings:{},startedDateTime:e.entries.reduce(function(e,t){var n=Date.parse(t.startedDateTime);return Date.parse(e)<n?e:t.startedDateTime},e.entries[0].startedDateTime),title:"n/a"}]};function i(e,t,n){void 0===t&&(t=0);var r=void 0!==e.log?e.log:e,i=m(r),o=i[t];if(!o.startedDateTime)throw new TypeError('Invalid HAR document: "log.pages['+t+'].startedDateTime" is not set');var a=new Date(o.startedDateTime).getTime(),s=o.pageTimings,l=0,u=h.documentIsSecure(r.entries),d=r.entries.filter(function(e){return 0!==e.request.url.indexOf("data:")&&0!==e.request.url.indexOf("javascript:")&&(1===i.length&&""===o.id||e.pageref===o.id)}).map(function(e,t){var n=new Date(e.startedDateTime).getTime()-a;return isNaN(n)?console.warn("Entry has no valid 'startedDateTime' time",e.request.url,e):l=Math.max(l,n+e.time),function(e,t,n,r){n=Math.round(n);var i=Math.round(p.toInt(e._all_end)||n+e.time),o=v.mimeToRequestType(e.response.content.mimeType),a=h.collectIndicators(e,t,r,o),s=b(e,a);return v.createWaterfallEntry(e.request.url,n,i,y(n,e),s,f.makeTabs(e,t+1,o,n,i,a))}(e,t,n,u)}),c=g(s,o,n);return c.forEach(function(e){e.startTime>l&&(l=e.startTime)}),n.fixedLengthMs&&(l=n.fixedLengthMs),{docIsTLS:u,durationMs:l+=100,entries:d,marks:c,title:o.title}}n.transformPage=i;var g=function(t,e,n){if(void 0===t)return[];var r=function(e,t){return e.startTime-t.startTime},i=Object.keys(t).filter(function(e){return"number"==typeof t[e]&&0<=t[e]}).map(function(e){return{name:p.escapeHtml(e.replace(/^[_]/,""))+" ("+o.roundNumber(t[e],0)+" ms)",startTime:t[e]}});return n.showUserTiming?a(e,n).concat(i).sort(r):i.sort(r)},a=function(o,a){var t=a.showUserTimingEndMarker?function(e){return 0===e.indexOf("_userTime.")}:function(e){return 0===e.indexOf("_userTime.")&&0!==e.indexOf("_userTime.endTimer-")},e=t;if(Array.isArray(a.showUserTiming)){var n=a.showUserTiming;e=function(e){return t(e)&&0<=n.indexOf(e.replace(/^_userTime\./,""))}}var s=/^_userTime\.((?:startTimer-)?(.+))$/;return Object.keys(o).filter(e).map(function(e){var t,n,r,i;return r=(t=s.exec(e)||[,void 0,void 0])[1],n=t[2],(r=p.escapeHtml(r))!==(n=p.escapeHtml(n))&&o["_userTime.endTimer-"+n]?{duration:i=o["_userTime.endTimer-"+n]-o[e],name:(a.showUserTimingEndMarker?r:n)+" ("+o[e]+" - "+(o[e]+i)+" ms)",startTime:o[e]}:{name:r,startTime:o[e]}})},y=function(a,s){var l=s.timings;return["blocked","dns","connect","send","wait","receive"].reduce(function(e,t){var n=u(t,s,e,a);if(n.end&&n.start>=n.end)return e;if("connect"===t&&l.ssl&&-1!==l.ssl){var r=parseInt(""+s._ssl_start,10)||n.start,i=parseInt(""+s._ssl_end,10)||n.start+l.ssl,o=parseInt(""+s._ssl_start,10)?n.start:i;return e.concat([v.createWaterfallEntryTiming("ssl",Math.round(r),Math.round(i))]).concat([v.createWaterfallEntryTiming(t,Math.round(o),Math.round(n.end))])}return e.concat([v.createWaterfallEntryTiming(t,Math.round(n.start),Math.round(n.end))])},[])},u=function(e,t,n,r){var i;switch(e){case"wait":i="ttfb";break;case"receive":i="download";break;default:i=e}var o=parseInt(t["_"+i+"_start"],10),a=parseInt(t["_"+i+"_end"],10),s=isNaN(o)?0<n.length?n[n.length-1].end:r:o,l=isNaN(a)?s+t.timings[e]:a;return{end:Math.round(l),start:Math.round(s)}},b=function(e,t){var n=v.mimeToRequestType(e.response.content.mimeType),r=p.toInt(e.response.status)||0;return{icon:v.makeMimeTypeIcon(r,e.response.statusText,n,e.response.redirectURL),indicators:t,requestType:n,rowClass:v.makeRowCssClasses(r),statusCode:r}}},{"../helpers/misc":4,"../helpers/parse":5,"./har-heuristics":11,"./har-tabs":12,"./helpers":14}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../helpers/misc"),a=e("../helpers/parse"),s=e("../waterfall/row/svg-indicators"),r=function(e){return a.escapeHtml(e).replace("&ltbr/&gt","<br/>")};n.makeDefinitionList=function(e,n){return void 0===n&&(n=!1),e.map(function(e){return"\n      <dt "+(t=e[0],n?'class="'+(o.toCssClass(t)||"no-colour")+'"':"")+">"+r(e[0])+"</dt>\n      <dd>"+r(e[1])+"</dd>\n    ";var t}).join("")},n.mimeToRequestType=function(e){if(void 0===e)return"other";var t=e.split("/"),n=t[1];switch(void 0!==n&&(n=-1<n.indexOf(";")?n.split(";")[0]:n),t[0]){case"image":return"svg+xml"===n?"svg":"image";case"font":return"font";case"video":return"video";case"audio":return"audio"}switch(n){case"xml":case"html":return"html";case"plain":return"plain";case"css":return"css";case"vnd.ms-fontobject":case"font-woff":case"font-woff2":case"x-font-truetype":case"x-font-opentype":case"x-font-woff":return"font";case"javascript":case"x-javascript":case"script":case"json":return"javascript";case"x-shockwave-flash":return"flash";default:return"other"}},n.createWaterfallEntry=function(e,t,n,r,i,o){return void 0===r&&(r=[]),{end:n,responseDetails:i,segments:r,start:t,tabs:o,total:"number"!=typeof t||"number"!=typeof n?NaN:n-t,url:e}},n.createWaterfallEntryTiming=function(e,t,n){return{end:n,start:t,total:"number"!=typeof t||"number"!=typeof n?NaN:n-t,type:a.sanitizeAlphaNumeric(e)}},n.makeRowCssClasses=function(e){var t=["row-item"];return o.isInStatusCodeRange(e,500,599)?t.push("status5xx"):o.isInStatusCodeRange(e,400,499)?t.push("status4xx"):304!==e&&o.isInStatusCodeRange(e,300,399)&&t.push("status3xx"),t.join(" ")},n.makeMimeTypeIcon=function(e,t,n,r){if(void 0===r&&(r=""),r){var i=encodeURI(r.split("?")[0]||"");return s.makeIcon("err3xx",e+" response status: Redirect to "+a.escapeHtml(i)+"...")}return o.isInStatusCodeRange(e,400,499)?s.makeIcon("err4xx",e+" response status: "+a.escapeHtml(t)):o.isInStatusCodeRange(e,500,599)?s.makeIcon("err5xx",e+" response status: "+a.escapeHtml(t)):204===e?s.makeIcon("plain","No content"):s.makeIcon(a.sanitizeAlphaNumeric(n),a.escapeHtml(n))},n.flattenKvTuple=function(e){var t=[];return e.forEach(function(e){void 0!==e&&0!==e.length&&(Array.isArray(e[0])?t.push.apply(t,e):t.push(e))}),t}},{"../helpers/misc":4,"../helpers/parse":5,"../waterfall/row/svg-indicators":20}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.requestTypeToCssClass=function(e){return"block-"+e},n.timingTypeToCssClass=function(e){return"block-"+e}},{}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../helpers/dom"),l=e("../../helpers/parse");n.createDetailsBody=function(e,r,t){var n=s.makeHtmlEl(),i=s.makeBodyEl(),o=t.tabs.map(function(e){return'<li><button class="tab-button">'+e.title+"</button></li>"}).join("\n"),a=t.tabs.map(function(e){var t="tab";e.tabClass&&(t+=" "+e.tabClass);var n="";if(e.content)n=e.content;else{if("function"!=typeof e.renderContent)throw TypeError("Invalid Details Tab");n=e.renderContent(r),e.content=n}return'<div class="tab '+t+'">'+n+"</div>"}).join("\n");return i.innerHTML='\n    <div class="wrapper">\n      <header class="type-'+t.responseDetails.requestType+'">\n        <h3><strong>#'+e+'</strong> <a href="'+l.sanitizeUrlForLink(t.url)+'">\n          '+l.escapeHtml(t.url)+'\n        </a></h3>\n        <nav class="tab-nav">\n          <ul>\n            '+o+"\n          </ul>\n        </nav>\n      </header>\n      "+a+"\n    </div>\n    ",n.appendChild(i),n}},{"../../helpers/dom":1,"../../helpers/parse":5}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var b=e("../../helpers/dom"),w=e("../../helpers/misc"),C=e("./svg-details-overlay"),r=function(){function y(e){this.context=e,this.openOverlays=[],this.realignRow=function(e,t){e.setAttribute("transform","translate(0, "+t+")")}}return y.prototype.getCombinedOverlayHeight=function(){return this.openOverlays.reduce(function(e,t){return e+(t.height||0)},0)},y.prototype.openOverlay=function(t,e,n,r,i){if(!this.openOverlays.some(function(e){return e.index===t})){var o=this,a={defaultY:e,entry:r,index:t,onClose:function(){o.closeOverlay(t,n,i)},openTabIndex:0};this.openOverlays.push(a),this.openOverlays=this.openOverlays.sort(function(e,t){return e.index>t.index?1:-1}),this.renderOverlays(n,i),this.context.pubSub.publishToOverlayChanges({changedIndex:t,combinedOverlayHeight:o.getCombinedOverlayHeight(),type:"open"})}},y.prototype.toggleOverlay=function(t,e,n,r,i){this.openOverlays.some(function(e){return e.index===t})?this.closeOverlay(t,n,i):this.openOverlay(t,e,n,r,i)},y.prototype.closeOverlay=function(r,e,t){this.openOverlays.splice(this.openOverlays.reduce(function(e,t,n){return t.index===r?n:e},-1),1),this.renderOverlays(e,t),this.context.pubSub.publishToOverlayChanges({changedIndex:r,combinedOverlayHeight:this.getCombinedOverlayHeight(),type:"closed"})},y.prototype.renderOverlays=function(f,e){var v=this,m=0,g=function(e,t,n){m+=n,e.actualY=t,e.height=n};e.forEach(function(e,t){var n=w.find(v.openOverlays,function(e){return e.index===t}),r=e.nextElementSibling,i=r.firstElementChild;if(v.realignRow(e,m),void 0!==n){if(i&&void 0!==n.actualY){var o=i.querySelector(".info-overlay-bg"),a=i.querySelector("foreignObject"),s=i.querySelector(".info-overlay-close-btn rect"),l=i.querySelector(".info-overlay-close-btn text");return g(n,n.defaultY+m,n.height),o.setAttribute("y",n.actualY.toString()),a.setAttribute("y",n.actualY.toString()),l.setAttribute("y",n.actualY.toString()),void s.setAttribute("y",n.actualY.toString())}var u,d,c,p,h;u=e.nextElementSibling,c=(d=n).defaultY+m,p=C.createRowInfoOverlay(d,c,f),(h=p.querySelector("img.preview"))&&!h.src&&h.setAttribute("src",(h.attributes.getNamedItem("data-src")||{value:""}).value),p.querySelector("a").addEventListener("keydown",y.firstElKeypress),b.getLastItemOfNodeList(p.querySelectorAll("button")).addEventListener("keydown",y.lastElKeypress),u.appendChild(p),g(d,c,p.getBoundingClientRect().height)}else i&&null!==r&&(r.querySelector("a").removeEventListener("keydown",y.firstElKeypress),b.getLastItemOfNodeList(r.querySelectorAll("button")).removeEventListener("keydown",y.lastElKeypress),b.removeChildren(r))})},y.showFullName=function(e){e.getElementsByClassName("row-fixed").item(0).dispatchEvent(new MouseEvent("mouseenter"))},y.firstElKeypress=function(e){if(w.isTabUp(e)){var t=b.getParentByClassName(e.target,"row-overlay-holder");t&&t.previousElementSibling&&y.showFullName(t.previousElementSibling)}},y.lastElKeypress=function(e){if(w.isTabDown(e)){var t=b.getParentByClassName(e.target,"row-overlay-holder");t&&t.nextElementSibling&&y.showFullName(t.nextElementSibling)}},y}();n.OverlayManager=r,n.default=r},{"../../helpers/dom":1,"../../helpers/misc":4,"./svg-details-overlay":19}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){this.subscribers=[]}return e.prototype.subscribeToOverlayChanges=function(e){this.subscribers.push(e)},e.prototype.subscribeToSpecificOverlayChanges=function(t,n){this.subscribers.push(function(e){e.changedIndex===t&&n(e)})},e.prototype.publishToOverlayChanges=function(t){this.subscribers.forEach(function(e){return e(t)})},e}();n.PubSub=r,n.default=r},{}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var m=e("../../helpers/dom"),g=e("../../helpers/svg"),y=e("./html-details-body");var b=function(e){var t=e.target;if("button"===t.tagName.toLowerCase()&&t.classList.contains("copy-tab-data")){var n=document.createElement("textarea");n.value=t.nextElementSibling?t.nextElementSibling.innerText:"",document.body.appendChild(n),n.select(),n.setSelectionRange(0,99999),document.execCommand("copy"),document.body.removeChild(n)}};n.createRowInfoOverlay=function(e,t,n){var r,i,o,a,s,l,u=e.index+1,d=(r=t,i=n,o=g.newG("info-overlay-holder"),a=g.newRect({height:i,rx:2,ry:2,width:"100%",x:"0",y:r},"info-overlay-bg"),o.appendChild(a),o),c=g.newForeignObject({height:n,width:"100%",x:"0",y:t}),p=y.createDetailsBody(u,n,e.entry),h=(s=t,(l=g.newA("info-overlay-close-btn")).appendChild(g.newRect({height:23,width:23,x:"100%",y:s})),l.appendChild(g.newTextEl("✕",{dx:7,dy:16,x:"100%",y:s})),l.appendChild(g.newTitle("Close Overlay")),l);h.addEventListener("click",function(){e.onClose(e.index),p.removeEventListener("click",b)}),p.addEventListener("click",b);var f=function(){return p.getElementsByClassName("tab-button")},v=function(n){e.openTabIndex=n,m.forEachNodeList(p.getElementsByClassName("tab"),function(e,t){e.style.display=n===t?"block":"none",f().item(t).classList.toggle("active",n===t)})};return m.forEachNodeList(f(),function(e,t){e.addEventListener("click",function(){return v(t)})}),v(e.openTabIndex),c.appendChild(p),d.appendChild(c),d.appendChild(h),d}},{"../../helpers/dom":1,"../../helpers/svg":6,"./html-details-body":16}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("../../helpers/misc");function l(e,t){return{type:e,title:t,width:20}}n.makeIcon=l,n.getIndicatorIcons=function(e){var t=e.responseDetails.indicators.filter(function(e){return"icon"===e.displayType});if(0===t.length)return[];var n=[],r="",i=t.filter(function(e){return"error"===e.type}),o=t.filter(function(e){return"warning"===e.type}),a=t.filter(function(e){return"error"!==e.type&&"warning"!==e.type});return 0<i.length&&(n.push(s.pluralize("Error",i.length)+":\n "+i.map(function(e){return e.title}).join("\n")),r="error"),0<o.length&&(n.push(s.pluralize("Warning",o.length)+":\n"+o.map(function(e){return e.title}).join("\n")),r=r||"warning"),0<a.length&&(n.push("Info:\n"+a.map(function(e){return e.title}).join("\n")),r=r||1!==a.length?r||"info":a[0].icon||a[0].type),[l(r,n.join("\n"))]}},{"../../helpers/misc":4}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var l=e("../../helpers/dom"),g=e("../../helpers/misc"),y=e("../../helpers/svg"),b=e("../../transformers/styling-converters"),u=e("./svg-tooltip");function w(e,t){var n,r,i=y.newG(""),o=e.height-1,a=g.roundNumber(e.x/e.unit)+"%",s=y.newRect({height:o,width:g.roundNumber(e.width/e.unit)+"%",x:a,y:e.y},t);(i.appendChild(s),e.label)&&(s.addEventListener("mouseenter",function(){r||(r=l.getParentByClassName(s,"water-fall-chart").querySelector(".tooltip")),n=setTimeout(function(){n=null,u.onHoverInShowTooltip(s,e,r)},100)}),s.addEventListener("mouseleave",function(){n?clearTimeout(n):u.onHoverOutShowTooltip(s)}));return e.showOverlay&&e.hideOverlay&&(s.addEventListener("mouseenter",e.showOverlay(e)),s.addEventListener("mouseleave",e.hideOverlay(e))),i}function a(e,t,n,r){var i=g.resourceUrlFormatter(n,125);t=t+Math.round(r/2)+5;var o=y.newTextEl(i,{x:e,y:t});return o.appendChild(y.newTitle(n)),o.style.opacity=n.match(/js.map$/)?"0.5":"1",o}n.createRect=function(a,e){var t,n,r,i,o,s,l,u,d,c,p,h=e.segments,f=w(a,"time-block "+a.cssClass),v=y.newG("rect-holder"),m=a.x;return v.appendChild(f),h&&0<h.length&&(h.forEach(function(e){if(!isNaN(e.total)&&0<e.total&&"number"==typeof e.start){var t=(r=e,i=a,o=isNaN(r.total)?"":"<br/>total: "+Math.round(r.total)+"ms",{cssClass:b.timingTypeToCssClass(r.type),height:i.height-6,hideOverlay:i.hideOverlay,label:"<strong>"+r.type+"</strong><br/>"+Math.round(r.start)+"ms - "+Math.round(r.end)+"ms"+o,showOverlay:i.showOverlay,unit:i.unit,width:r.total,x:r.start||.001,y:i.y}),n=w(t,"segment "+t.cssClass);m=Math.min(m,t.x),v.appendChild(n)}var r,i,o}),g.find(e.responseDetails.indicators,function(e){return"push"===e.id})&&v.appendChild((d=(u=a).y+u.height/1.5,c=g.roundNumber(u.x/u.unit)+"%",(p=y.newG("http2-inidicator-holder")).appendChild(y.newTextEl("→",{transform:"translate(-5)",x:c,y:d},{fillOpacity:"0.6","text-anchor":"end"})),p.appendChild(y.newTitle("http2 Push")),p)),v.appendChild((t=a,n=e.total,r=m,i=t.y+t.height/1.5,o=Math.round(n)+" ms",s=(t.x+t.width)/t.unit+1,l=y.newTextEl(o,{x:g.roundNumber(s)+"%",y:i}),100<s+8*o.length/500*100&&(s=r/t.unit-1,l=y.newTextEl(o,{x:g.roundNumber(s)+"%",y:i},{textAnchor:"end"})),l))),v},n.createRequestNumberLabel=function(e,t,n,r,i){return t+=Math.round(r/2)+5,e+=i,y.newTextEl(n,{x:e,y:t},{"text-anchor":"end"})},n.createRequestLabelClipped=function(e,t,n,r){var i=a(e,t,n,r);return i.style.clipPath="url(#titleClipPath)",i},n.createRequestLabelFull=function(e,t,n,r){var i=a(e,t,n,r),o=y.newG("full-label",{},{clipPath:"url(#titleFullClipPath)"});return o.appendChild(y.newRect({height:r-4,rx:5,ry:5,width:500,x:e-3,y:t+3},"label-full-bg")),o.appendChild(i),o};var d="function"==typeof window.requestAnimationFrame&&"function"==typeof window.cancelAnimationFrame;n.appendRequestLabels=function(e,t,n,r){var i=r.getElementsByTagName("rect")[0],o=r.getElementsByTagName("text")[0];r.style.display="none",r.style.visibility="hidden",e.appendChild(t),e.appendChild(n),e.appendChild(r);var a,s=!1;e.addEventListener("mouseenter",function(){r.style.display="block",n.style.display="none",r.style.visibility="visible";var e=function(){var e=o.getComputedTextLength()+10;i.setAttribute("width",e.toString()),s=!0,a=void 0};s||(d?a=window.requestAnimationFrame(e):e())}),e.addEventListener("mouseleave",function(){n.style.display="block",r.style.display="none",r.style.visibility="hidden",d&&void 0!==a&&cancelAnimationFrame(a)})},n.createBgStripe=function(e,t,n){var r=n?"even":"odd";return y.newRect({height:t,width:"100%",x:0,y:e},r)},n.createNameRowBg=function(e,t){var n=y.newG("row row-fixed");return n.appendChild(y.newRect({height:t,width:"100%",x:"0",y:e},"",{opacity:0})),n},n.createRowBg=function(e,t){var n=y.newG("row row-flex");return n.appendChild(y.newRect({height:t,width:"100%",x:"0",y:e},"",{opacity:0})),n}},{"../../helpers/dom":1,"../../helpers/misc":4,"../../helpers/svg":6,"../../transformers/styling-converters":15,"./svg-tooltip":23}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var S=e("../../helpers/icons"),E=e("../../helpers/misc"),L=e("../../helpers/svg"),M=e("./svg-indicators"),_=e("./svg-row-subcomponents"),N=L.newClipPath("titleClipPath");N.appendChild(L.newRect({height:"100%",width:"100%"}));var O=L.newClipPath("titleFullClipPath");O.appendChild(L.newRect({height:"100%",width:"100%"}));n.createRow=function(e,n,t,r,i,o,a){var s=i.y,l=i.height,u=e.options.leftColumnWidth,d=L.newA(o.responseDetails.rowClass||"");d.setAttribute("tabindex","0"),d.setAttribute("xlink:href","javascript:void(0)");var c=L.newSvg("left-fixed-holder",{width:u+"%",x:"0"}),p=L.newSvg("flex-scale-waterfall",{width:100-u+"%",x:u+"%"}),h=_.createRect(i,o),f=_.createNameRowBg(s,l),v=_.createRowBg(s,l),m=_.createBgStripe(s,l,n%2==0),g=3+t;if(e.options.showMimeTypeIcon){var y=o.responseDetails.icon;g-=y.width,f.appendChild(S[y.type](g,s+3,y.title))}e.options.showIndicatorIcons&&M.getIndicatorIcons(o).forEach(function(e){g-=e.width,f.appendChild(S[e.type](g,s+3,e.title))}),g=3+t;var b=""+(n+1),w=_.createRequestNumberLabel(g,s,b,l,r);g+=r+4;var C,x,T=_.createRequestLabelClipped(g,s,E.resourceUrlFormatter(o.url,40),l),q=_.createRequestLabelFull(g,s,o.url,l);return v.appendChild(h),_.appendRequestLabels(f,w,T,q),e.pubSub.subscribeToSpecificOverlayChanges(n,function(e){C="open"===e.type}),0<n&&e.pubSub.subscribeToSpecificOverlayChanges(n-1,function(e){x="open"===e.type}),d.addEventListener("click",function(e){e.preventDefault(),a(e)}),d.addEventListener("keydown",function(e){var t=e;if(32===t.which||13===t.which)return t.preventDefault(),a(t);E.isTabUp(t)&&!x&&0<n?d.previousSibling&&d.previousSibling.previousSibling&&d.previousSibling.previousSibling.lastChild&&d.previousSibling.previousSibling.lastChild.lastChild&&d.previousSibling.previousSibling.lastChild.lastChild.dispatchEvent(new MouseEvent("mouseenter")):!E.isTabDown(t)||C||d.nextSibling&&d.nextSibling.nextSibling&&d.nextSibling.nextSibling.lastChild&&d.nextSibling.nextSibling.lastChild.lastChild&&d.nextSibling.nextSibling.lastChild.lastChild.dispatchEvent(new MouseEvent("mouseenter"))}),d.addEventListener("focusout",function(){f.dispatchEvent(new MouseEvent("mouseleave"))}),p.appendChild(v),c.appendChild(N.cloneNode(!0)),c.appendChild(f),d.appendChild(O.cloneNode(!0)),d.appendChild(m),d.appendChild(p),d.appendChild(c),d}},{"../../helpers/icons":3,"../../helpers/misc":4,"../../helpers/svg":6,"./svg-indicators":20,"./svg-row-subcomponents":21}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var g=e("../../helpers/dom"),a=e("../../helpers/svg"),y=/(?:translate)\(.+[, ]+(.+)\)/;n.onHoverInShowTooltip=function(e,t,n){var r=n.querySelector(".tooltip-payload"),i=function(e){void 0===e&&(e=""),e=null===e?"":e;var t=y.exec(e);return t&&2<=t.length?parseInt(t[1],10):0}(g.getParentByClassName(e,"row-item").getAttribute("transform")),o=parseInt(e.getAttribute("y")||"",10),a=e.getAttribute("x")||"",s=parseFloat(a),l=50,u=e.width.baseVal.value||e.getBoundingClientRect().width,d=u/(t.width/t.unit),c=t.width/t.unit/u,p=50<s&&(95-s)*d<200;r.innerHTML=t.label||"",g.addClass(r,"no-anim"),n.style.display="block",r.style.opacity="0.01";var h=r.clientHeight+5;if(l=0<o+i-h?i-h:i+t.height+10,p){var f=s-(r.clientWidth+5)*c,v=parseInt(n.querySelector("body").style.left||"",10);v*=1/(.01*(100-v)),r.style.left=-v<f?f+"%":-v+"%"}else r.style.left=a;n.setAttribute("y",""+(o+l)),n.setAttribute("height",h.toString()),g.removeClass(r,"no-anim"),r.style.opacity="1";var m=r.clientHeight+5-h;0!==m&&(n.setAttribute("height",(h+m).toString()),n.setAttribute("y",""+(o+l-m)))},n.onHoverOutShowTooltip=function(e){var t=g.getParentByClassName(e,"water-fall-chart").querySelector(".tooltip"),n=t.querySelector(".tooltip-payload");t.style.display="none",t.setAttribute("height","250"),n.style.opacity="0"},n.makeTooltip=function(e){var t=e.leftColumnWidth,n=a.newSvg("tooltip-holder",{width:"100%",x:"0",y:"0"}),r=a.newForeignObject({width:"100%",x:"0",y:t+"%"},"tooltip",{display:"none"}),i=g.makeHtmlEl(),o=g.makeBodyEl({left:t+"%",width:100-t+"%"},'<div class="tooltip-payload" style="max-width: 200px; opacity: 0;"></div>');return i.appendChild(o),r.appendChild(i),n.appendChild(r),n}},{"../../helpers/dom":1,"../../helpers/svg":6}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../helpers/dom"),r=e("../../helpers/svg");n.createAlignmentLines=function(e){return{endline:r.newLine({x1:"0",x2:"0",y1:"0",y2:e},"line-end"),startline:r.newLine({x1:"0",x2:"0",y1:"0",y2:e},"line-start")}},n.makeHoverEvtListeners=function(i){return{onMouseEnterPartial:function(){return function(e){var t=e.target;o.addClass(t,"active");var n=t.x.baseVal.valueInSpecifiedUnits+t.width.baseVal.valueInSpecifiedUnits+"%",r=t.x.baseVal.valueInSpecifiedUnits+"%";i.endline.x1.baseVal.valueAsString=n,i.endline.x2.baseVal.valueAsString=n,i.startline.x1.baseVal.valueAsString=r,i.startline.x2.baseVal.valueAsString=r,o.addClass(i.endline,"active"),o.addClass(i.startline,"active")}},onMouseLeavePartial:function(){return function(e){var t=e.target;o.removeClass(t,"active"),o.removeClass(i.endline,"active"),o.removeClass(i.startline,"active")}}}}},{"../../helpers/dom":1,"../../helpers/svg":6}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var h=e("../../helpers/misc"),f=e("../../helpers/svg"),l=function(e,t,n,r,i){void 0===i&&(i=!1);var o,a,s=e.diagramHeight,l=100/n,u="sub-second-line";if(i){var d=n-.2<r;u="second-line",a=h.roundNumber(l*r)+.5+"%";var c={};d&&(a=h.roundNumber(l*r)-.5+"%",c["text-anchor"]="end"),o=f.newTextEl(r+"s",{x:a,y:s},c)}a=h.roundNumber(l*r)+"%";var p=f.newLine({x1:a,x2:a,y1:0,y2:s},u);e.pubSub.subscribeToOverlayChanges(function(e){var t=e.combinedOverlayHeight,n=(s+t)/s;p.setAttribute("transform","scale(1, "+n+")"),i&&o.setAttribute("transform","translate(0, "+t+")")}),t.appendChild(p),i&&t.appendChild(o)};n.createTimeScale=function(e,t){for(var n=f.newG("time-scale full-width"),r=200*Math.ceil(t/1e4),i=1e3/r,o=t/1e3,a=t/r,s=0;s<=a;s++)l(e,n,o,s/i,s%i<1e-9);return n}},{"../../helpers/misc":4,"../../helpers/svg":6}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var g=e("../../helpers/dom"),y=e("../../helpers/misc"),b=e("../../helpers/svg");function w(e,t){var n=b.newG("line-mark-holder line-marker-"+y.toCssClass(t.name));return n.appendChild(b.newTitle(t.name.replace(/^startTimer-/,""))),n.appendChild(b.newRect({height:e.diagramHeight,width:(t.duration||1)/e.unit+"%",x:(t.startTime||.001)/e.unit+"%",y:0},"line-mark")),n}n.createMarks=function(h,f){var v=h.diagramHeight,m=b.newG("marker-holder",{transform:"scale(1, 1)"});return f.forEach(function(e,t){var r,n=y.roundNumber(e.startTime/h.unit),i=b.newG("mark-holder type-"+e.name.toLowerCase().replace(/([0-9]+[ ]?ms)|\W/g,"")),o=b.newG("line-holder"),a=b.newG("line-label-holder"),s=b.newTextEl(e.name,{x:n+"%",y:v+25});s.setAttribute("writing-mode","tb"),e.x=n;var l=b.newLine({x1:n+"%",x2:n+"%",y1:0,y2:v}),u=f[t-1];u&&void 0!==u.x&&e.x-u.x<2.5&&(s.setAttribute("x",u.x+2.5+"%"),e.x=u.x+2.5);var d=b.newLine({x1:n+"%",x2:e.x+"%",y1:v,y2:v+23});o.appendChild(l),o.appendChild(d),e.duration&&(r=w(h,e),o.appendChild(r)),h.pubSub.subscribeToOverlayChanges(function(e){var t=e.combinedOverlayHeight,n=(v+t)/v;l.setAttribute("transform","scale(1, "+n+")"),a.setAttribute("transform","translate(0, "+t+")"),d.setAttribute("transform","translate(0, "+t+")"),r&&r.setAttribute("transform","translate(0, "+t+")")});var c=!1,p=!1;s.addEventListener("mouseenter",function(){c||(i.parentNode.appendChild(i),c=!0,"function"==typeof window.requestAnimationFrame?window.requestAnimationFrame(function(){return g.addClass(o,"active")}):g.addClass(o,"active"))}),s.addEventListener("mouseleave",function(){c=!1,p||g.removeClass(o,"active")}),s.addEventListener("click",function(){p?(c=!1,g.removeClass(o,"active")):c?c=!1:g.addClass(o,"active"),p=!p}),a.appendChild(s),i.appendChild(b.newTitle(e.name)),i.appendChild(o),i.appendChild(a),m.appendChild(i)}),m},n.createLineRect=w},{"../../helpers/dom":1,"../../helpers/misc":4,"../../helpers/svg":6}],27:[function(e,t,n){"use strict";var E=this&&this.__assign||function(){return(E=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var L=e("../helpers/svg"),M=e("../transformers/styling-converters"),_=e("./details-overlay/overlay-manager"),N=e("./details-overlay/pub-sub"),O=e("./row/svg-row"),P=e("./row/svg-tooltip"),I=e("./sub-components/svg-alignment-helper"),H=e("./sub-components/svg-general-components"),A=e("./sub-components/svg-marks");n.createWaterfallSvg=function(e,s){var t,n,r,i,o,a,l,u,d,c=e.entries.filter(function(e){return"number"==typeof e.start&&"number"==typeof e.total}).sort(function(e,t){return(e.start||0)-(t.start||0)}),p=L.newG("overlays"),h=L.newG("rows-holder"),f=(t=s,n=c,r=e.durationMs/100,i={diagramHeight:(n.length+1)*t.rowHeight,options:t,pubSub:new N.PubSub,unit:r},E({},i,{overlayManager:new _.default(i)})),v=(o=e.marks,a=f.diagramHeight,l=o.reduce(function(e,t){return Math.max(e,L.getNodeTextWidth(L.newTextEl(t.name,{x:0,y:0}),!0))},0),Math.floor(a+l+35)),m=L.newSvg("water-fall-chart",{height:v}),g=L.newSvg("scale-and-marks-holder",{width:100-s.leftColumnWidth+"%",x:s.leftColumnWidth+"%"});if(s.showAlignmentHelpers){u=L.newG("hover-overlays");var y=I.createAlignmentLines(f.diagramHeight);u.appendChild(y.startline),u.appendChild(y.endline),d=I.makeHoverEvtListeners(y)}g.appendChild(H.createTimeScale(f,e.durationMs)),g.appendChild(A.createMarks(f,e.marks));var b=c[0].responseDetails.icon.width,w=0;if(s.showMimeTypeIcon&&(w+=1),s.showIndicatorIcons){var C=c.map(function(e){return 0<e.responseDetails.indicators.filter(function(e){return"icon"===e.displayType}).length?1:0});w+=Math.max.apply(null,C)}var x=w*b,T=function(e){for(var t=Math.floor(Math.log(e)/Math.LN10)+1,n="",r=0;r<t;r++)n+="0";return n}(c.length),q=L.getNodeTextWidth(L.newTextEl(""+T),!0),S=[];return f.pubSub.subscribeToOverlayChanges(function(){var e=v+f.overlayManager.getCombinedOverlayHeight();m.classList.toggle("closing",e<m.clientHeight),m.style.height=e+"px"}),c.forEach(function(e,t){var n=e.total||1,r=s.rowHeight*t,i=e.start||.001,o={cssClass:M.requestTypeToCssClass(e.responseDetails.requestType),height:s.rowHeight,hideOverlay:s.showAlignmentHelpers?d.onMouseLeavePartial:void 0,label:"<strong>"+e.url+"</strong><br/>"+Math.round(e.start)+"ms - "+Math.round(e.end)+"ms<br/>total: "+(isNaN(e.total)?"n/a ":Math.round(e.total))+"ms",showOverlay:s.showAlignmentHelpers?d.onMouseEnterPartial:void 0,unit:f.unit,width:n,x:i,y:r},a=O.createRow(f,t,x,q,o,e,function(){f.overlayManager.toggleOverlay(t,r+s.rowHeight,450,e,S)});S.push(a),h.appendChild(a),h.appendChild(L.newG("row-overlay-holder"))}),s.showAlignmentHelpers&&void 0!==u&&g.appendChild(u),m.appendChild(g),m.appendChild(h),m.appendChild(p),m.appendChild(P.makeTooltip(s)),m}},{"../helpers/svg":6,"../transformers/styling-converters":15,"./details-overlay/overlay-manager":17,"./details-overlay/pub-sub":18,"./row/svg-row":22,"./row/svg-tooltip":23,"./sub-components/svg-alignment-helper":24,"./sub-components/svg-general-components":25,"./sub-components/svg-marks":26}]},{},[8])(8)});