/*! github.com/micmro/PerfCascade Version:2.5.2 (31/05/2018) */

!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).perfCascade=e()}}(function(){return function(){return function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[a]={exports:{}};t[a][0].call(d.exports,function(e){var n=t[a][1][e];return i(n||e)},d,d.exports,e,t,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}}()({1:[function(e,t,n){"use strict";function r(e,t,n){t in e.style?e.style[t]=n:console.warn(new Error("Trying to set non-existing style "+t+" = "+n+" on a <"+e.tagName.toLowerCase()+">."))}function i(e,t,n){t in e||console.warn(new Error("Trying to set non-existing attribute "+t+" = "+n+" on a <"+e.tagName.toLowerCase()+">.")),e.setAttributeNS("",t,n)}function o(e,t){Object.keys(t).forEach(function(n){r(e,n,t[n].toString())})}Object.defineProperty(n,"__esModule",{value:!0}),n.addClass=function(e,t){var n=e.classList;return n?t.split(" ").forEach(function(e){return n.add(e)}):e.setAttribute("class",e.getAttribute("class")+" "+t),e},n.removeClass=function(e,t){var n=e.classList;return n?n.remove(t):e.setAttribute("class",(e.getAttribute("class")||"").replace(new RegExp("(\\s|^)"+t+"(\\s|$)","g"),"$2")),e},n.getParentByClassName=function(e,t){if("function"==typeof e.closest)return e.closest("."+t);for(;e;){if(e.classList.contains(t))return e;e=e.parentElement}return null},n.removeChildren=function(e){for(;e.hasChildNodes();)e.removeChild(e.lastChild);return e},n.getLastItemOfNodeList=function(e){if(e&&0!==e.length)return e.item(e.length-1)},n.forEachNodeList=function(e,t){Array.prototype.forEach.call(e,t)},n.safeSetStyle=r,n.safeSetAttribute=i,n.safeSetStyles=o,n.safeSetAttributes=function(e,t){Object.keys(t).forEach(function(n){i(e,n,t[n].toString())})},n.makeHtmlEl=function(){var e=document.createElement("html");return e.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns","http://www.w3.org/2000/xmlns/"),e},n.makeBodyEl=function(e,t){void 0===e&&(e={}),void 0===t&&(t="");var n=document.createElement("body");return n.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),o(n,e),n.innerHTML=t,n}},{}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(e){return function(t){return t.name.toLowerCase()===e}};n.hasHeader=function(e,t){var n=r(t.toLowerCase());return e.some(n)};var i=!!Array.prototype.find;n.getHeader=function(e,t){var n,o=r(t.toLowerCase());return(n=i?e.find(o):e.map(o).pop())?n.value:void 0},n.getHeaders=function(e,t){var n=r(t.toLowerCase());return e.filter(n).map(function(e){return[t,e.value]})}},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i,o,a,s,l,u,d,c,p,h,f,v,m,g=e("./svg"),y=function(e,t,n,r,i,o){var a=g.newSvg("",{x:e,y:t}),s=g.newG("icon "+r,{transform:"scale("+i+")"});return s.appendChild(o),s.appendChild(g.newTitle(n)),a.appendChild(s),a};function w(e,t,n,r){if(void 0===r&&(r=1),void 0===l){l=g.newPath("M6 6q0 .75-.525 1.275Q4.95 7.8 4.2 7.8q-.75 0-1.275-.525Q2.4 6.75 2.4\n  6q0-.75.525-1.275Q3.45 4.2 4.2 4.2q.75 0 1.275.525Q6 5.25 6 6zm9.6 3.6v4.2H2.4V12l3-3\n  1.5 1.5 4.8-4.8zm.9-6.6h-15q-.122 0-.21.09-.09.088-.09.21v11.4q0\n  .122.09.21.088.09.21.09h15q.122 0 .21-.09.09-.088.09-.21V3.3q0-.122-.09-.21Q16.623\n  3 16.5 3zm1.5.3v11.4q0 .62-.44 1.06-.44.44-1.06.44h-15q-.62 0-1.06-.44Q0 15.32 0\n  14.7V3.3q0-.62.44-1.06.44-.44 1.06-.44h15q.62 0 1.06.44.44.44.44 1.06z")}return y(e,t,n,"icon-image",r,l.cloneNode(!1))}function b(e,t,n,r){if(void 0===r&&(r=1),void 0===c){c=g.newPath("M6 6q0 .75-.525 1.275Q4.95 7.8 4.2 7.8q-.75 0-1.275-.525Q2.4 6.75 2.4\n  6q0-.75.525-1.275Q3.45 4.2 4.2 4.2q.75 0 1.275.525Q6 5.25 6 6zm9.6 3.6v4.2H2.4V12l3-3\n  1.5 1.5 4.8-4.8zm.9-6.6h-15q-.122 0-.21.09-.09.088-.09.21v11.4q0\n  .122.09.21.088.09.21.09h15q.122 0 .21-.09.09-.088.09-.21V3.3q0-.122-.09-.21Q16.623\n  3 16.5 3zm1.5.3v11.4q0 .62-.44 1.06-.44.44-1.06.44h-15q-.62 0-1.06-.44Q0 15.32 0\n  14.7V3.3q0-.62.44-1.06.44-.44 1.06-.44h15q.62 0 1.06.44.44.44.44 1.06z")}return y(e,t,n,"icon-warning",r,c.cloneNode(!1))}n.noTls=function(e,t,n,i){void 0===i&&(i=1),void 0===r&&(r=g.newPath("M18 6.216v2.77q0 .28-.206.486-.205.206-.486.206h-.693q-.28 0-.486-.206-.21-.205-.21\n  -.487v-2.77q0-1.145-.81-1.957-.813-.81-1.96-.81-1.146 0-1.957.81-.81.812-.81 1.958v2.077h1.037q.434\n  0 .737.303.302.303.302.736v6.23q0 .433-.305.736t-.737.303H1.038q-.433 0-.736-.3Q0 15.996 0\n  15.56V9.33q0-.433.303-.736t.735-.303h7.27V6.218q0-2 1.422-3.423 1.423-1.423 3.424-1.423 2\n  0 3.424 1.424Q18 4.214 18 6.216"));return y(e,t,n,"icon-no-tls",i,r.cloneNode(!1))},n.err3xx=function(e,t,n,r){void 0===r&&(r=1),void 0===i&&(i=g.newPath("M17 2.333V7q0 .27-.198.47-.198.197-.47.197h-4.665q-.438 0-.615-.417-.177-.406.146-.72l1.437-1.436Q11.095\n  3.667 9 3.667q-1.083 0-2.068.422-.984.42-1.703 1.14-.72.715-1.14 1.7-.426.984-.426 2.07 0 1.08.422 2.065.42.984\n  1.14 1.703.718.72 1.702 1.14.984.422 2.067.422 1.24 0 2.344-.54 1.104-.543 1.864-1.533.073-.105.24-.126.146 0\n  .26.095l1.427 1.436q.095.084.1.214.006.13-.08.234-1.133 1.376-2.75 2.13Q10.793 17 9 17q-1.625\n  0-3.104-.635-1.48-.636-2.552-1.71-1.073-1.072-1.71-2.55Q1 10.625 1 9t.635-3.104q.636-1.48 1.71-2.552\n  1.072-1.073 2.55-1.71Q7.375 1 9 1q1.53 0 2.964.578 1.432.578 2.546\n  1.63l1.355-1.343q.302-.323.73-.146.405.173.405.61z"));return y(e,t,n,"icon-redirect",r,i.cloneNode(!1))},n.err4xx=function(e,t,n,r){return void 0===r&&(r=1),b(e,t,n,r)},n.err5xx=function(e,t,n,r){return void 0===r&&(r=1),b(e,t,n,r)},n.plain=function(e,t,n,r){void 0===r&&(r=1),void 0===o&&(o=g.newPath("M15.247 4.393q.25.25.43.678.177.43.177.79v10.287q0\n  .357-.25.607t-.607.25h-12q-.357 0-.607-.25t-.25-.606V1.858q0-.358.25-.608T2.997 1h8q.357 0\n  .786.18.428.177.678.427zm-3.964-2.18V5.57h3.357q-.09-.256-.196-.364L11.65 2.41q-.108-.106-.367\n  -.196zm3.428 13.644V6.714H11q-.357 0-.607-.25t-.25-.607V2.143h-6.86v13.714H14.71zM5.57\n  8.143q0-.125.08-.205.08-.08.204-.08h6.286q.125 0 .205.08.08.08.08.205v.57q0 .126-.08.207-.08.08\n  -.205.08H5.854q-.125 0-.205-.08-.08-.08-.08-.206v-.57zm6.57 2q.125 0 .205.08.08.08.08.206V11q0\n  .125-.08.205-.08.08-.205.08H5.854q-.125 0-.205-.08-.08-.08-.08-.205v-.57q0-.126.08-.207.08-.08.2\n  -.08h6.286zm0 2.286q.125 0 .205.08.08.08.08.2v.572q0 .125-.08.205-.08.08-.205.08H5.854q-.125 0-.205\n  -.08-.08-.08-.08-.205v-.572q0-.124.08-.204.08-.08.2-.08h6.286z"));return y(e,t,n,"icon-plain",r,o.cloneNode(!1))},n.other=function(e,t,n,r){void 0===r&&(r=1),void 0===a&&(a=g.newPath("M10.8 13.5v3q0 .2-.15.35-.15.15-.35.15h-3q-.2 0-.35-.15-.15-.15-.15-.35v-3q0-.2.15-.35.15\n  -.15.35-.15h3q.2 0 .35.15.15.15.15.35zM14.75 6q0 .675-.193 1.262-.193.588-.437.957-.244.365\n  -.688.74-.443.375-.718.543-.275.17-.763.444-.51.286-.852.81-.344.526-.344.84 0 .21-.15.405-.15.194\n  -.35.194h-3q-.186 0-.318-.23-.13-.234-.13-.47v-.564q0-1.037.812-1.956.812-.917 1.787-1.355.74-.336\n  1.05-.7.314-.362.314-.95 0-.524-.583-.924-.58-.4-1.343-.4-.814 0-1.35.362-.44.312-1.34 1.437-.16.2\n  -.386.2-.15 0-.313-.1L3.4 4.987q-.16-.124-.193-.312-.03-.188.07-.35Q5.277 1 9.077 1q1 0 2.01.387\n  1.01.388 1.825 1.038.812.65 1.325 1.594.51.94.51 1.98z"));return y(e,t,n,"icon-other",r,a.cloneNode(!1))},n.javascript=function(e,t,n,r){void 0===r&&(r=1),void 0===s&&(s=g.newPath("M13.516 2.9c-2.766 0-4.463 1.522-4.463 3.536 0 1.733 1.295 2.82 3.256 3.52\n  1.413.49 1.973.926 1.973 1.644 0 .787-.647 1.296-1.873 1.296-1.137 0-2.26-.368-2.96-.736l-.54\n  2.19c.665.367 1.996.734 3.344.734 3.238 0 4.744-1.68 4.744-3.658\n  0-1.68-.966-2.767-3.05-3.537-1.54-.6-2.186-.93-2.186-1.68 0-.6.56-1.14 1.714-1.14\n  1.137 0 1.996.33 2.45.56l.596-2.138c-.7-.332-1.663-.596-3.01-.596zm-9.032.192v7.44c0\n  1.822-.702 2.33-1.822 2.33-.525 0-.997-.09-1.365-.212L1 14.805c.525.175 1.33.28 1.96.28\n  2.574 0 4.185-1.173 4.185-4.534V3.097h-2.66z"));return y(e,t,n,"icon-js",r,s.cloneNode(!1))},n.image=w,n.svg=function(e,t,n,r){return void 0===r&&(r=1),w(e,t,n,r)},n.html=function(e,t,n,r){void 0===r&&(r=1),void 0===u&&(u=g.newPath("M5.626 13.31l-.492.492q-.098.098-.226.098t-.226-.098L.098 9.22Q0 9.12 0\n  8.99q0-.127.098-.226L4.682 4.18q.098-.097.226-.097t.226.098l.492.49q.1.1.1.23t-.1.23L1.76\n  8.99l3.866 3.866q.1.098.1.226t-.1.226zM11.44 2.815l-3.67\n  12.7q-.04.127-.152.19-.113.065-.23.026l-.61-.162q-.13-.04-.193-.152-.064-.112-.024-.24l3.67-12.698q.04\n  -.128.157-.192.113-.064.23-.025l.61.167q.13.04.193.152.063.113.023.24zM17.9\n  9.22l-4.582 4.58q-.098.098-.226.098t-.226-.098l-.492-.492q-.1-.098-.1-.226t.1-.226L16.24\n  8.99l-3.867-3.865q-.1-.098-.1-.226t.1-.23l.492-.49q.098-.1.226-.1t.23.1l4.58 4.583q.1.1.1.226 0 .13-.1.23z"));return y(e,t,n,"icon-html",r,u.cloneNode(!1))},n.css=function(e,t,n,r){void 0===r&&(r=1),void 0===d&&(d=g.newPath("M15.436.99q.625 0 1.095.416.47.415.47 1.04 0 .564-.4 1.35-2.97 5.624-4.16 6.724-.865.814\n  -1.946.814-1.127 0-1.935-.827-.81-.827-.81-1.962 0-1.144.822-1.895l5.705-5.175Q14.8.99\n  15.435.99zM7.31 10.232q.35.68.953 1.162.603.483 1.345.68l.01.634q.035 1.904-1.16 3.102-1.192\n  1.198-3.114 1.198-1.1 0-1.948-.416-.85-.415-1.364-1.14-.514-.723-.773-1.635Q1 12.905 1\n  11.85l.366.268q.304.224.555.398.25.175.53.327.277.15.41.15.368 0 .493-.33.224-.59.515-1.005.29\n  -.415.62-.68.332-.263.788-.424.455-.16.92-.228.465-.066 1.118-.094z"));return y(e,t,n,"icon-css",r,d.cloneNode(!1))},n.warning=b,n.error=function(e,t,n,r){void 0===r&&(r=1),void 0===p&&(p=g.newPath("M9 1q2.177 0 4.016 1.073 1.838 1.073 2.91 2.91Q17 6.823 17 9q0 2.177-1.073 4.016-1.073\n  1.838-2.91 2.91Q11.177 17 9 17q-2.177 0-4.016-1.073-1.838-1.073-2.91-2.91Q1 11.177 1 9q0-2.177 1.073-4.016\n  1.073-1.838 2.91-2.91Q6.823 1 9 1zm1.333 12.99v-1.98q0-.145-.093-.244-.094-.1-.23-.1h-2q-.135 0-.24.105\n  -.103.106-.103.24v1.98q0 .136.104.24.106.104.24.104h2q.137 0 .23-.1.094-.098.094-.243zm-.02-3.584l.187\n  -6.468q0-.125-.104-.188-.104-.084-.25-.084H7.854q-.146 0-.25.084-.104.062-.104.188l.177 6.468q0\n  .104.104.183.106.076.25.076h1.93q.146 0 .245-.078.1-.08.11-.184z"));return y(e,t,n,"icon-no-gzip",r,p.cloneNode(!1))},n.font=function(e,t,n,r){void 0===r&&(r=1),void 0===h&&(h=g.newPath("M7.97 5.754L6.338 10.08q.317 0 1.312.02.994.02 1.542.02.183 0 .548-.02-.836-2.432-1.77\n  -4.345zM1 16.38l.02-.76q.22-.068.538-.12.317-.053.548-.102.23-.048.476-.14.245-.09.428-.278.182\n  -.187.298-.485l2.28-5.923 2.69-6.962H9.51q.077.135.105.202l1.972 4.615q.317.75 1.02 2.476.7 1.726\n  1.095 2.64.144.327.558 1.39.413 1.062.692 1.62.192.432.336.547.183.145.847.284.663.14.807.197.058.37.058.55\n  0 .04-.005.13t-.005.128q-.605 0-1.827-.076-1.22-.08-1.836-.08-.73 0-2.067.07-1.337.067-1.712.076 0-.412.04\n  -.75l1.258-.27q.01 0 .12-.022l.15-.033q.038-.01.14-.044.1-.034.143-.06l.1-.08q.06-.048.082-.106.024-.056.024\n  -.133 0-.152-.298-.926t-.693-1.71q-.392-.93-.402-.96l-4.325-.02q-.25.56-.734 1.88-.487 1.32-.487 1.56 0\n  .213.136.362.134.15.418.235.285.087.467.13.185.044.55.08.366.04.395.04.01.183.01.558 0 .087-.02.26-.558\n  0-1.678-.095-1.12-.098-1.678-.098-.08 0-.26.04-.18.037-.208.037-.77.136-1.808.136Z"));return y(e,t,n,"icon-font",r,h.cloneNode(!1))},n.flash=function(e,t,n,r){void 0===r&&(r=1),void 0===f&&(f=g.newPath("M13.724 4.738q.195.216.076.476L7.96 17.73q-.142.27-.456.27-.043 0-.15-.022-.185-.054-.277\n  -.205-.092-.15-.05-.325l2.132-8.74L4.765 9.8q-.044.01-.13.01-.195 0-.336-.118-.193-.162-.14-.422L6.337.346q.043\n  -.15.173-.25Q6.64 0 6.81 0h3.548q.206 0 .346.135.14.135.14.32 0 .086-.053.194L8.94 5.654l4.285\n  -1.06q.086-.02.13-.02.205 0 .367.16z"));return y(e,t,n,"icon-flash",r,f.cloneNode(!1))},n.video=function(e,t,n,r){void 0===r&&(r=1),void 0===v&&(v=g.newPath("M17 4.107v9.714q0 .38-.348.53-.116.05-.223.05-.25 0-.41-.17l-3.6-3.6v1.48q0 1.067-.757 1.82-.754.756\n  -1.817.756H3.57q-1.06 0-1.816-.753Q1 13.17 1 12.106V5.82q0-1.06.754-1.816.755-.754 1.817-.754h6.29q1.07 0\n  1.82.754.76.755.76 1.817V7.3l3.597-3.59q.16-.17.4-.17.107 0 .22.045.35.153.35.528z"));return y(e,t,n,"icon-video",r,v.cloneNode(!1))},n.audio=function(e,t,n,r){void 0===r&&(r=1),void 0===m&&(m=g.newPath("M8.385 3.756v10.46q0 .252-.183.434-.183.183-.433.183t-.44-.183l-3.2-3.202H1.61q-.25\n  0-.43-.183-.18-.182-.18-.432V7.14q0-.25.182-.432.182-.183.432-.183h2.52l3.202-3.202q.182-.183.432\n  -.183t.43.183q.182.183.182.433zm3.692 5.23q0 .73-.41 1.36-.407.63-1.08.9-.097.048-.24.048-.25 0\n  -.434-.178-.182-.177-.182-.437 0-.21.12-.35.12-.14.28-.24.16-.1.33-.22.166-.12.28-.34.117-.22.117\n  -.55 0-.33-.115-.55-.115-.224-.28-.344-.163-.12-.326-.22-.165-.1-.28-.24-.116-.14-.116-.34 0-.26.183\n  -.44t.43-.176q.146 0 .24.048.676.26 1.08.894.41.636.41 1.367zm2.46 0q0 1.472-.816 2.717t-2.16 1.813q\n  -.12.048-.24.048-.26 0-.44-.183-.18-.18-.18-.43 0-.37.378-.56.54-.28.73-.42.713-.52 1.11-1.302.4\n  -.783.4-1.667 0-.886-.4-1.67-.4-.783-1.11-1.303-.192-.145-.73-.424-.376-.192-.376-.567 0-.25.183\n  -.434.183-.18.433-.18.123 0 .25.047 1.344.567 2.16 1.812.82 1.244.82 2.716zm2.463 0q0 2.212\n  -1.22 4.063-1.222 1.85-3.25 2.72-.126.05-.25.05-.25 0-.434-.19-.183-.183-.183-.433 0-.346.375\n  -.568.068-.04.217-.1.15-.064.216-.1.45-.244.79-.494 1.19-.875 1.85-2.183.67-1.306.67-2.777 0\n  -1.47-.663-2.78-.664-1.304-1.846-2.18-.346-.25-.79-.49-.065-.035-.214-.1-.15-.06-.22-.1\n  -.375-.22-.375-.57 0-.25.183-.43.183-.182.433-.182.123 0 .25.047 2.027.876 3.25 2.727Q17 6.775 17 8.99Z"));return y(e,t,n,"icon-audio",r,m.cloneNode(!1))}},{"./svg":6}],4:[function(e,t,n){"use strict";function r(e,t){var n=0;if(e&&!(e.length<1))for(var r=e.length;n<r;){if(t(e[n],n))return n;n++}}Object.defineProperty(n,"__esModule",{value:!0}),n.contains=function(e,t){return e.some(function(e){return e===t})},n.findIndex=r,n.find=function(e,t){var n=r(e,t);if(void 0!==n)return e[n]},n.resourceUrlFormatter=function(e,t){if(e.length<t)return e.replace(/https?:\/\//,"");var n,r,i,o=(n=e,r=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),{authority:(i=n.match(r)||[])[4],fragment:i[9],path:i[5],query:i[7],scheme:i[2]});if((o.authority+o.path).length<t)return o.authority+o.path;var a=Math.floor(t/2)-3,s=Math.floor(t/2)-5,l=o.path.split("/");return o.authority.length>a?o.authority.substr(0,a)+"..."+l[l.length-1].substr(-s):o.authority+"..."+l[l.length-1].substr(-s)},n.roundNumber=function(e,t){return void 0===t&&(t=2),Math.round(e*Math.pow(10,t))/Math.pow(10,t)},n.isInStatusCodeRange=function(e,t,n){return e>=t&&e<=n};var i=/[^a-z-]/g;n.toCssClass=function(e){return e.toLowerCase().replace(i,"")},n.pluralize=function(e,t){return e+(t>1?"s":"")},n.isTabUp=function(e){return 9===e.which&&e.shiftKey},n.isTabDown=function(e){return 9===e.which&&!e.shiftKey}},{}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./misc");function i(e){if("function"==typeof e.toString)return e.toString();throw TypeError("Can't convert type "+typeof e+" to string")}function o(e,t){var n=function(e){return t(e)?e:void 0};if("string"==typeof e){var r=parseInt(e,10);if(!isFinite(r))return;return n(r)}return n(e)}n.parseAndFormat=function(e,t,n){if(void 0===n&&(n=i),void 0!==e){var r=t(e);if(void 0!==r)return n(r)}},n.parseNonEmpty=function(e){return e.trim().length>0?e:void 0},n.parseDate=function(e){var t=new Date(e);if(!isNaN(t.getTime()))return t},n.parseNonNegative=function(e){if(null!=e)return o(e,function(e){return e>=0})},n.parsePositive=function(e){if(null!=e)return o(e,function(e){return e>0})},n.formatMilliseconds=function(e){return void 0!==e?r.roundNumber(e,3)+" ms":void 0};var a=60,s=60*a,l=24*s;n.formatSeconds=function(e){if(void 0!==e){var t=r.roundNumber(e,3)+" s";return e>l?t+" (~"+r.roundNumber(e/l,0)+" days)":e>s?t+" (~"+r.roundNumber(e/s,0)+" hours)":e>a?t+" (~"+r.roundNumber(e/a,0)+" minutes)":t}},n.formatDateLocalized=function(e){return void 0!==e?e.toUTCString()+"<br/>(local time: "+e.toLocaleString()+")":void 0};var u=1024,d=1024*u;n.formatBytes=function(e){if(void 0===e)return"";var t=e+" bytes";return e>=d?t+" (~"+r.roundNumber(e/d,1)+" MB)":e>=u?t+" (~"+r.roundNumber(e/u,0)+" kB)":t};var c={'"':"&quot","&":"&amp","'":"&#039","<":"&lt",">":"&gt"},p=new RegExp(Object.keys(c).join("|"),"g");n.escapeHtml=function(e){if(void 0===e&&(e=""),null==e)return"";if("string"!=typeof e){if("function"!=typeof e.toString)throw TypeError("Invalid parameter");e=e.toString()}return e.replace(p,function(e){return c[e]})};var h=new RegExp("[^-A-Za-z0-9+&@#/%?=~_|!:,.;()]","g");n.sanitizeUrlForLink=function(e){var t=e.replace(h,"_");return 0===t.indexOf("http://")||0===t.indexOf("https://")?t:(console.warn("skipped link, due to potentially unsafe url",e),"")};var f=new RegExp("[^a-zA-Z0-9]","g");function v(e){return"number"==typeof e?e:"string"==typeof e?parseInt(e,10):void 0}n.sanitizeAlphaNumeric=function(e){return e.toString().replace(f,"")},n.toInt=v,n.validateOptions=function(e){var t=function(t){var n=v(e[t]);if(void 0===n)throw TypeError('option "'+t+'" needs to be a number');e[t]=n},n=function(t){e[t]=!!e[t]};return t("leftColumnWidth"),t("rowHeight"),t("selectedPage"),n("showAlignmentHelpers"),n("showIndicatorIcons"),n("showMimeTypeIcon"),e}},{"./misc":4}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./dom"),i="http://www.w3.org/2000/svg";function o(e,t){var n=void 0===t?{}:t,o=n.attributes,a=void 0===o?{}:o,s=n.css,l=void 0===s?{}:s,u=n.text,d=void 0===u?"":u,c=n.className,p=void 0===c?"":c,h=document.createElementNS(i,e);return p&&r.addClass(h,p),d&&(h.textContent=d),r.safeSetStyles(h,l),r.safeSetAttributes(h,a),h}function a(e,t,n){return void 0===n&&(n={}),o("svg",{className:e,attributes:t,css:n})}n.newSvg=a,n.newG=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),o("g",{className:e,attributes:t,css:n})},n.newClipPath=function(e){return o("clipPath",{attributes:{id:e}})},n.newForeignObject=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n={}),o("foreignObject",{attributes:e,className:t,css:n})},n.newA=function(e){return o("a",{className:e})},n.newRect=function(e,t,n){return void 0===t&&(t=""),void 0===n&&(n={}),o("rect",{attributes:e,className:t,css:n})},n.newLine=function(e,t){return void 0===t&&(t=""),o("line",{className:t,attributes:e})},n.newTitle=function(e){var t=document.createElementNS(i,"title");return t.setAttribute("text",e),t},n.newTextEl=function(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),o("text",{text:e,attributes:t,css:n})},n.newPath=function(e){var t=document.createElementNS(i,"path");return t.setAttribute("d",e),t};var s,l,u=function(){void 0===s&&(s=a("water-fall-chart temp",{className:"water-fall-chart temp",width:"9999px"},{left:"0px",position:"absolute",top:"0px",visibility:"hidden","z-index":"99999"}));return void 0===s.parentElement&&window.document.body.appendChild(s),clearTimeout(l),l=setTimeout(function(){s.parentNode.removeChild(s)},500),s};n.getNodeTextWidth=function(e,t){if(void 0===t&&(t=!1),0===(e.textContent||"").length)return 0;var n,r,i=u();t?(r=e.style.textShadow,n=e):((n=e.cloneNode(!0)).setAttribute("x","0"),n.setAttribute("y","0")),n.style.textShadow="0",i.appendChild(n),window.document.body.appendChild(i);var o=n.getComputedTextLength();return t&&void 0!==r&&(e.style.textShadow=r),o}},{"./dom":1}],7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.makeLegend=function(){var e=document.createElement("ul");return e.className="resource-legend",e.innerHTML='\n        <li class="legend-blocked" title="Time spent in a queue waiting for a network connection.">Blocked</li>\n        <li class="legend-dns" title="DNS resolution time.">DNS</li>\n        <li class="legend-connect" title="Time required to create TCP connection.">Connect</li>\n        <li class="legend-ssl" title="Time required for SSL/TLS negotiation.">SSL (TLS)</li>\n        <li class="legend-send" title="Time required to send HTTP request to the server.">Send</li>\n        <li class="legend-wait" title="Waiting for a response from the server.">Wait</li>\n        <li class="legend-receive"\n        title="Time required to read entire response from the server (or cache).">Receive</li>',e}},{}],8:[function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(n,"__esModule",{value:!0});var i=e("./helpers/parse"),o=e("./legend/legend"),a=e("./paging/paging"),s=e("./transformers/har"),l=e("./waterfall/svg-chart"),u={leftColumnWidth:25,legendHolder:void 0,onParsed:void 0,pageSelector:void 0,rowHeight:23,selectedPage:0,showAlignmentHelpers:!0,showIndicatorIcons:!0,showMimeTypeIcon:!0},d={showUserTiming:!1,showUserTimingEndMarker:!1};n.makeLegend=function(){return o.makeLegend()},n.fromHar=function(e,t){void 0===t&&(t={});var n=r({},d,t),c=s.transformDoc(e,n);return"function"==typeof t.onParsed&&t.onParsed(c),function(e,t){void 0===t&&(t={}),void 0!==t.leftColumnWith&&(console.warn("Depreciation Warning: The option 'leftColumnWith' has been fixed to 'leftColumnWidth', please update your code as this will get deprecated in the future"),t.leftColumnWidth=t.leftColumnWith);var n=i.validateOptions(r({},u,t)),s=new a.default(e,n.selectedPage),d=l.createWaterfallSvg(s.getSelectedPage(),n);return s.onPageUpdate(function(e,t){var r=d.parentElement,i=l.createWaterfallSvg(t,n);r.replaceChild(i,d),d=i}),n.pageSelector&&s.initPagingSelectBox(n.pageSelector),n.legendHolder&&(n.legendHolder.innerHTML="",n.legendHolder.appendChild(o.makeLegend())),d}(c,t)}},{"./helpers/parse":5,"./legend/legend":7,"./paging/paging":9,"./transformers/har":13,"./waterfall/svg-chart":27}],9:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../helpers/dom"),i=function(){function e(e,t){void 0===t&&(t=0),this.doc=e,this.selectedPageIndex=t,this.onPageUpdateCbs=[],t>=this.doc.pages.length&&(this.selectedPageIndex=this.doc.pages.length-1)}return e.prototype.getPageCount=function(){return this.doc.pages.length},e.prototype.getSelectedPage=function(){return this.doc.pages[this.selectedPageIndex]},e.prototype.getSelectedPageIndex=function(){return this.selectedPageIndex},e.prototype.setSelectedPageIndex=function(e){var t=this;if(this.selectedPageIndex!==e){if(e<0||e>=this.getPageCount())throw new Error("Page does not exist - Invalid pageIndex selected");this.selectedPageIndex=e;var n=this.doc.pages[this.selectedPageIndex];this.onPageUpdateCbs.forEach(function(e){e(t.selectedPageIndex,n)})}},e.prototype.onPageUpdate=function(e){if(this.getPageCount()>1)return this.onPageUpdateCbs.push(e)},e.prototype.initPagingSelectBox=function(e){var t=this,n=this;this.getPageCount()<=1?e.style.display="none":(r.removeChildren(e),this.doc.pages.forEach(function(n,r){var i=new Option(n.title,r.toString(),!1,r===t.selectedPageIndex);e.add(i)}),e.style.display="block",e.addEventListener("change",function(e){var t=parseInt(e.target.value,10);n.setSelectedPageIndex(t)}))},e}();n.default=i},{"../helpers/dom":1}],10:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../helpers/har"),i=e("../helpers/parse"),o=e("./helpers"),a=function(e,t){return[e,i.parseAndFormat(t,i.parsePositive,i.formatBytes)]},s=function(e,t){return[e,i.parseAndFormat(t,i.parsePositive)]},l=function(e){return e.length>1&&void 0!==e[1]&&""!==e[1]};n.getKeys=function(e,t,n,u){var d,c,p,h,f,v,m,g,y,w,b,C,x,T=e.request.headers,q=e.response.headers,S=function(e){return[e.name,e.value]};return{general:(b=e,C=n,x=t,[["Request Number","#"+x],["Started",new Date(b.startedDateTime).toLocaleString()+(C>0?" ("+i.formatMilliseconds(C)+" after page request started)":"")],["Duration",i.formatMilliseconds(b.time)],["Error/Status Code",b.response.status+" "+b.response.statusText],["Server IPAddress",b.serverIPAddress],["Connection",b.connection],["Browser Priority",b._priority||b._initialPriority],["Was pushed",i.parseAndFormat(b._was_pushed,i.parsePositive,function(){return"yes"})],["Initiator (Loaded by)",b._initiator],["Initiator Line",b._initiator_line],["Initiator Type",b._initiator_type],["Host",r.getHeader(b.request.headers,"Host")],["IP",b._ip_addr],["Client Port",i.parseAndFormat(b._client_port,i.parsePositive)],["Expires",b._expires],["Cache Time",i.parseAndFormat(b._cache_time,i.parsePositive,i.formatSeconds)],["CDN Provider",b._cdn_provider],a("ObjectSize",b._objectSize),a("Bytes In (downloaded)",b._bytesIn),a("Bytes Out (uploaded)",b._bytesOut),a("JPEG Scan Count",b._jpeg_scan_count),a("Gzip Total",b._gzip_total),a("Gzip Save",b._gzip_save),a("Minify Total",b._minify_total),a("Minify Save",b._minify_save),a("Image Total",b._image_total),a("Image Save",b._image_save)].filter(l)),request:(g=e,y=g.request,w=function(e){return r.getHeaders(y.headers,e)},o.flattenKvTuple([["Method",y.method],["HTTP Version",y.httpVersion],a("Bytes Out (uploaded)",g._bytesOut),a("Headers Size",y.headersSize),a("Body Size",y.bodySize),["Comment",i.parseAndFormat(y.comment,i.parseNonEmpty)],w("User-Agent"),w("Host"),w("Connection"),w("Accept"),w("Accept-Encoding"),w("Expect"),w("Forwarded"),w("If-Modified-Since"),w("If-Range"),w("If-Unmodified-Since"),s("Querystring parameters count",y.queryString.length),s("Cookies count",y.cookies.length)]).filter(l)),requestHeaders:T.map(S).filter(l),response:function(e){var t,n=e.response,s=n.content,u=n.headers,d=function(e,t){return void 0===t&&(t=e),r.getHeaders(u,t)},c=function(e){var t=r.getHeader(u,e);return[e,i.parseAndFormat(t,i.parseDate,i.formatDateLocalized)]},p=r.getHeader(u,"Content-Length");-1!==s.size&&p!==s.size.toString()&&(t=s.size);var h=r.getHeader(u,"Content-Type");return e._contentType&&e._contentType!==h&&(h=h+" | "+e._contentType),o.flattenKvTuple([["Status",n.status+" "+n.statusText],["HTTP Version",n.httpVersion],a("Bytes In (downloaded)",e._bytesIn),a("Headers Size",n.headersSize),a("Body Size",n.bodySize),["Content-Type",h],d("Cache-Control"),d("Content-Encoding"),c("Expires"),c("Last-Modified"),d("Pragma"),a("Content-Length",p),a("Content Size",t),a("Content Compression",s.compression),d("Connection"),d("ETag"),d("Accept-Patch"),["Age",i.parseAndFormat(r.getHeader(u,"Age"),i.parseNonNegative,i.formatSeconds)],d("Allow"),d("Content-Disposition"),d("Location"),d("Strict-Transport-Security"),d("Trailer (for chunked transfer coding)","Trailer"),d("Transfer-Encoding"),d("Upgrade"),d("Vary"),d("Timing-Allow-Origin"),["Redirect URL",i.parseAndFormat(n.redirectURL,i.parseNonEmpty)],["Comment",i.parseAndFormat(n.comment,i.parseNonEmpty)]]).filter(l)}(e),responseHeaders:q.map(S).filter(l),timings:(d=e,c=n,p=u,h=d.timings,f=function(e){return i.parseAndFormat(e,i.parseNonNegative,i.formatMilliseconds)},v="number"!=typeof c||"number"!=typeof p?void 0:p-c,m=f(h.connect),h.ssl&&h.ssl>0&&h.connect&&(m=m+" (without TLS: "+f(h.connect-h.ssl)+")"),[["Total",i.formatMilliseconds(v)],["Blocked",f(h.blocked)],["DNS",f(h.dns)],["Connect",m],["SSL (TLS)",f(h.ssl)],["Send",i.formatMilliseconds(h.send)],["Wait",i.formatMilliseconds(h.wait)],["Receive",i.formatMilliseconds(h.receive)]].filter(l))}}},{"../helpers/har":2,"../helpers/parse":5,"./helpers":14}],11:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../helpers/har"),i=e("../helpers/misc"),o=e("../helpers/parse");function a(e,t){var n=e.response.headers;return!r.hasHeader(n,"Content-Encoding")&&function(e,t){if(e.response.bodySize<1e3)return!1;if(i.contains(["html","css","javascript","svg","plain"],t))return!0;var n=e.response.content.mimeType;return!(!i.contains(["text"],n.split("/")[0])&&!i.contains(["application/vnd.ms-fontobject","application/x-font-opentype","application/x-font-truetype","application/x-font-ttf","application/xml","font/eot","font/opentype","font/otf","image/vnd.microsoft.icon"],n.split(";")[0]))}(e,t)}function s(e){return 0===e.request.url.indexOf("https://")}n.documentIsSecure=function(e){var t=e.filter(function(e){return!e.response.redirectURL})[0];return void 0===t?e.length>0&&s(e[0]):s(t)},n.collectIndicators=function(e,t,n,l){var u,d,c=[];return void 0!==(u=e)._was_pushed&&null!==u._was_pushed&&1===o.toInt(u._was_pushed)&&c.push({description:"Response was pushed by the server using HTTP2 push.",displayType:"inline",icon:"push",id:"push",title:"Response was pushed by the server",type:"info"}),!n||s(e)||(d=e,0===t&&d.response.redirectURL)||c.push({description:"Insecure request, it should use HTTPS.",displayType:"icon",id:"noTls",title:"Insecure Connection",type:"error"}),function(e){if(!e.request.method||"get"!==e.request.method.toLowerCase())return!1;if(204===e.response.status||!i.isInStatusCodeRange(e.response.status,200,299))return!1;var t=e.response.headers;return!(r.hasHeader(t,"Cache-Control")||r.hasHeader(t,"Expires"))}(e)&&c.push({description:"The response is not allow to be cached on the client. Consider setting 'Cache-Control' headers.",displayType:"icon",id:"noCache",title:"Response not cached",type:"error"}),a(e,l)&&c.push({description:"The response is not compressed. Consider enabling HTTP compression on your server.",displayType:"icon",id:"noGzip",title:"no gzip",type:"error"}),!e.response.content.mimeType&&i.isInStatusCodeRange(e.response.status,200,299)&&204!==e.response.status&&c.push({description:"Response doesn't contain a 'Content-Type' header.",displayType:"icon",id:"warning",title:"No MIME Type defined",type:"warning"}),c}},{"../helpers/har":2,"../helpers/misc":4,"../helpers/parse":5}],12:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../helpers/misc"),i=e("../helpers/parse"),o=e("./extract-details-keys"),a=e("./helpers");function s(e,t,n){return void 0===n&&(n=""),{content:t,tabClass:n,title:e}}function l(e,t,n){return void 0===n&&(n=""),{renderContent:t,tabClass:n,title:e}}n.makeTabs=function(e,t,n,u,d,c){var p,h,f,v,m,g,y=[],w=o.getKeys(e,t,u,d);return y.push(function(e,t){var n=a.makeDefinitionList(e);if(0===t.length)return s("General",n);var i="<h2>General</h2>\n<dl>"+n+"<dl>",o="",l=t.filter(function(e){return"error"===e.type}).map(function(e){return[e.title,e.description]}),u=t.filter(function(e){return"warning"===e.type}).map(function(e){return[e.title,e.description]}),d=t.filter(function(e){return"error"!==e.type&&"warning"!==e.type}).map(function(e){return[e.title,e.description]});return l.length>0&&(o+='<h2 class="no-boder">'+r.pluralize("Error",l.length)+"</h2>\n    <dl>"+a.makeDefinitionList(l)+"</dl>"),u.length>0&&(o+='<h2 class="no-boder">'+r.pluralize("Warning",u.length)+"</h2>\n    <dl>"+a.makeDefinitionList(u)+"</dl>"),d.length>0&&(o+='<h2 class="no-boder">Info</h2>\n    <dl>'+a.makeDefinitionList(d)+"</dl>"),s("General",o+i)}(w.general,c)),y.push((p=w.request,h=w.requestHeaders,s("Request","<dl>\n      "+a.makeDefinitionList(p)+"\n    </dl>\n    <h2>All Request Headers</h2>\n    <dl>\n      "+a.makeDefinitionList(h)+"\n    </dl>"))),y.push((f=w.response,v=w.responseHeaders,s("Response","<dl>\n      "+a.makeDefinitionList(f)+"\n    </dl>\n    <h2>All Response Headers</h2>\n    <dl>\n      "+a.makeDefinitionList(v)+"\n    </dl>"))),y.push(s("Timings",a.makeDefinitionList(w.timings,!0))),y.push((m=e,l("Raw Data",function(){return"<pre><code>"+i.escapeHtml(JSON.stringify(m,null,2))+"</code></pre>"},"raw-data"))),"image"===n&&y.push((g=e,l("Preview",function(e){return'<img class="preview" style="max-height:'+(e-100)+'px"\n data-src="'+i.sanitizeUrlForLink(g.request.url)+'" />'}))),y.filter(function(e){return void 0!==e})}},{"../helpers/misc":4,"../helpers/parse":5,"./extract-details-keys":10,"./helpers":14}],13:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../helpers/misc"),i=e("../helpers/parse"),o=e("./har-heuristics"),a=e("./har-tabs"),s=e("./helpers");n.transformDoc=function(e,t){var n=void 0!==e.log?e.log:e;return{pages:l(n).map(function(e,r){return u(n,r,t)})}};var l=function(e){return e.pages&&e.pages.length>0?e.pages:[{id:"",pageTimings:{},startedDateTime:e.entries.reduce(function(e,t){var n=Date.parse(t.startedDateTime);return Date.parse(e)<n?e:t.startedDateTime},e.entries[0].startedDateTime),title:"n/a"}]};function u(e,t,n){void 0===t&&(t=0);var r=void 0!==e.log?e.log:e,u=l(r),c=u[t];if(!c.startedDateTime)throw new TypeError('Invalid HAR document: "log.pages['+t+'].startedDateTime" is not set');var h=new Date(c.startedDateTime).getTime(),v=c.pageTimings,m=0,g=o.documentIsSecure(r.entries),y=r.entries.filter(function(e){return 0!==e.request.url.indexOf("data:")&&0!==e.request.url.indexOf("javascript:")&&(1===u.length&&""===c.id||e.pageref===c.id)}).map(function(e,t){var n=new Date(e.startedDateTime).getTime()-h;return m=Math.max(m,n+e.time),function(e,t,n,r){n=Math.round(n);var l=Math.round(i.toInt(e._all_end)||n+e.time),u=s.mimeToRequestType(e.response.content.mimeType),d=o.collectIndicators(e,t,r,u),c=f(e,d);return s.createWaterfallEntry(e.request.url,n,l,p(n,e),c,a.makeTabs(e,t+1,u,n,l,d))}(e,t,n,g)}),w=d(v,c,n);return w.forEach(function(e){e.startTime>m&&(m=e.startTime)}),n.fixedLengthMs&&(m=n.fixedLengthMs),{docIsTLS:g,durationMs:m+=100,entries:y,marks:w,title:c.title}}n.transformPage=u;var d=function(e,t,n){if(void 0===e)return[];var o=function(e,t){return e.startTime-t.startTime},a=Object.keys(e).filter(function(t){return"number"==typeof e[t]&&e[t]>=0}).map(function(t){return{name:i.escapeHtml(t.replace(/^[_]/,""))+" ("+r.roundNumber(e[t],0)+" ms)",startTime:e[t]}});return n.showUserTiming?c(t,n).concat(a).sort(o):a.sort(o)},c=function(e,t){var n=t.showUserTimingEndMarker?function(e){return 0===e.indexOf("_userTime.")}:function(e){return 0===e.indexOf("_userTime.")&&0!==e.indexOf("_userTime.endTimer-")},r=n;if(Array.isArray(t.showUserTiming)){var o=t.showUserTiming;r=function(e){return n(e)&&o.indexOf(e.replace(/^_userTime\./,""))>=0}}var a=/^_userTime\.((?:startTimer-)?(.+))$/;return Object.keys(e).filter(r).map(function(n){var r,o,s,l;return o=(l=a.exec(n)||[,void 0,void 0])[1],r=l[2],(o=i.escapeHtml(o))!==(r=i.escapeHtml(r))&&e["_userTime.endTimer-"+r]?{duration:s=e["_userTime.endTimer-"+r]-e[n],name:(t.showUserTimingEndMarker?o:r)+" ("+e[n]+" - "+(e[n]+s)+" ms)",startTime:e[n]}:{name:o,startTime:e[n]}})},p=function(e,t){var n=t.timings;return["blocked","dns","connect","send","wait","receive"].reduce(function(r,i){var o=h(i,t,r,e);if(o.end&&o.start>=o.end)return r;if("connect"===i&&n.ssl&&-1!==n.ssl){var a=parseInt(""+t._ssl_start,10)||o.start,l=parseInt(""+t._ssl_end,10)||o.start+n.ssl,u=parseInt(""+t._ssl_start,10)?o.start:l;return r.concat([s.createWaterfallEntryTiming("ssl",Math.round(a),Math.round(l))]).concat([s.createWaterfallEntryTiming(i,Math.round(u),Math.round(o.end))])}return r.concat([s.createWaterfallEntryTiming(i,Math.round(o.start),Math.round(o.end))])},[])},h=function(e,t,n,r){var i;switch(e){case"wait":i="ttfb";break;case"receive":i="download";break;default:i=e}var o=parseInt(t["_"+i+"_start"],10),a=parseInt(t["_"+i+"_end"],10),s=isNaN(o)?n.length>0?n[n.length-1].end:r:o,l=isNaN(a)?s+t.timings[e]:a;return{end:Math.round(l),start:Math.round(s)}},f=function(e,t){var n=s.mimeToRequestType(e.response.content.mimeType),r=i.toInt(e.response.status)||0;return{icon:s.makeMimeTypeIcon(r,e.response.statusText,n,e.response.redirectURL),indicators:t,requestType:n,rowClass:s.makeRowCssClasses(r),statusCode:r}}},{"../helpers/misc":4,"../helpers/parse":5,"./har-heuristics":11,"./har-tabs":12,"./helpers":14}],14:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../helpers/misc"),i=e("../helpers/parse"),o=e("../waterfall/row/svg-indicators"),a=function(e){return i.escapeHtml(e).replace("&ltbr/&gt","<br/>")};n.makeDefinitionList=function(e,t){return void 0===t&&(t=!1),e.map(function(e){return"\n      <dt "+(n=e[0],t?'class="'+(r.toCssClass(n)||"no-colour")+'"':"")+">"+a(e[0])+"</dt>\n      <dd>"+a(e[1])+"</dd>\n    ";var n}).join("")},n.mimeToRequestType=function(e){if(void 0===e)return"other";var t=e.split("/"),n=t[1];switch(void 0!==n&&(n=n.indexOf(";")>-1?n.split(";")[0]:n),t[0]){case"image":return"svg+xml"===n?"svg":"image";case"font":return"font";case"video":return"video";case"audio":return"audio"}switch(n){case"xml":case"html":return"html";case"plain":return"plain";case"css":return"css";case"vnd.ms-fontobject":case"font-woff":case"font-woff2":case"x-font-truetype":case"x-font-opentype":case"x-font-woff":return"font";case"javascript":case"x-javascript":case"script":case"json":return"javascript";case"x-shockwave-flash":return"flash";default:return"other"}},n.createWaterfallEntry=function(e,t,n,r,i,o){return void 0===r&&(r=[]),{end:n,responseDetails:i,segments:r,start:t,tabs:o,total:"number"!=typeof t||"number"!=typeof n?NaN:n-t,url:e}},n.createWaterfallEntryTiming=function(e,t,n){return{end:n,start:t,total:"number"!=typeof t||"number"!=typeof n?NaN:n-t,type:i.sanitizeAlphaNumeric(e)}},n.makeRowCssClasses=function(e){var t=["row-item"];return r.isInStatusCodeRange(e,500,599)?t.push("status5xx"):r.isInStatusCodeRange(e,400,499)?t.push("status4xx"):304!==e&&r.isInStatusCodeRange(e,300,399)&&t.push("status3xx"),t.join(" ")},n.makeMimeTypeIcon=function(e,t,n,a){if(void 0===a&&(a=""),a){var s=encodeURI(a.split("?")[0]||"");return o.makeIcon("err3xx",e+" response status: Redirect to "+i.escapeHtml(s)+"...")}return r.isInStatusCodeRange(e,400,499)?o.makeIcon("err4xx",e+" response status: "+i.escapeHtml(t)):r.isInStatusCodeRange(e,500,599)?o.makeIcon("err5xx",e+" response status: "+i.escapeHtml(t)):204===e?o.makeIcon("plain","No content"):o.makeIcon(i.sanitizeAlphaNumeric(n),i.escapeHtml(n))},n.flattenKvTuple=function(e){var t=[];return e.forEach(function(e){void 0!==e&&0!==e.length&&(Array.isArray(e[0])?t.push.apply(t,e):t.push(e))}),t}},{"../helpers/misc":4,"../helpers/parse":5,"../waterfall/row/svg-indicators":20}],15:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.requestTypeToCssClass=function(e){return"block-"+e},n.timingTypeToCssClass=function(e){return"block-"+e}},{}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/dom"),i=e("../../helpers/parse");n.createDetailsBody=function(e,t,n){var o=r.makeHtmlEl(),a=r.makeBodyEl(),s=n.tabs.map(function(e){return'<li><button class="tab-button">'+e.title+"</button></li>"}).join("\n"),l=n.tabs.map(function(e){var n="tab";e.tabClass&&(n+=" "+e.tabClass);var r="";if(e.content)r=e.content;else{if("function"!=typeof e.renderContent)throw TypeError("Invalid Details Tab");r=e.renderContent(t),e.content=r}return'<div class="tab '+n+'">'+r+"</div>"}).join("\n");return a.innerHTML='\n    <div class="wrapper">\n      <header class="type-'+n.responseDetails.requestType+'">\n        <h3><strong>#'+e+'</strong> <a href="'+i.sanitizeUrlForLink(n.url)+'">\n          '+i.escapeHtml(n.url)+'\n        </a></h3>\n        <nav class="tab-nav">\n          <ul>\n            '+s+"\n          </ul>\n        </nav>\n      </header>\n      "+l+"\n    </div>\n    ",o.appendChild(a),o}},{"../../helpers/dom":1,"../../helpers/parse":5}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/dom"),i=e("../../helpers/misc"),o=e("./svg-details-overlay"),a=function(){function e(e){this.context=e,this.openOverlays=[],this.realignRow=function(e,t){e.setAttribute("transform","translate(0, "+t+")")}}return e.prototype.getCombinedOverlayHeight=function(){return this.openOverlays.reduce(function(e,t){return e+(t.height||0)},0)},e.prototype.openOverlay=function(e,t,n,r,i){if(!this.openOverlays.some(function(t){return t.index===e})){var o=this,a={defaultY:t,entry:r,index:e,onClose:function(){o.closeOverlay(e,n,i)},openTabIndex:0};this.openOverlays.push(a),this.openOverlays=this.openOverlays.sort(function(e,t){return e.index>t.index?1:-1}),this.renderOverlays(n,i),this.context.pubSub.publishToOverlayChanges({changedIndex:e,combinedOverlayHeight:o.getCombinedOverlayHeight(),type:"open"})}},e.prototype.toggleOverlay=function(e,t,n,r,i){this.openOverlays.some(function(t){return t.index===e})?this.closeOverlay(e,n,i):this.openOverlay(e,t,n,r,i)},e.prototype.closeOverlay=function(e,t,n){this.openOverlays.splice(this.openOverlays.reduce(function(t,n,r){return n.index===e?r:t},-1),1),this.renderOverlays(t,n),this.context.pubSub.publishToOverlayChanges({changedIndex:e,combinedOverlayHeight:this.getCombinedOverlayHeight(),type:"closed"})},e.prototype.renderOverlays=function(t,n){var a=this,s=0,l=function(e,t,n){s+=n,e.actualY=t,e.height=n};n.forEach(function(n,u){var d=i.find(a.openOverlays,function(e){return e.index===u}),c=n.nextElementSibling,p=c.firstElementChild;if(a.realignRow(n,s),void 0!==d){if(p&&void 0!==d.actualY){var h=p.querySelector(".info-overlay-bg"),f=p.querySelector("foreignObject"),v=p.querySelector(".info-overlay-close-btn rect"),m=p.querySelector(".info-overlay-close-btn text");return l(d,d.defaultY+s,d.height),h.setAttribute("y",d.actualY.toString()),f.setAttribute("y",d.actualY.toString()),m.setAttribute("y",d.actualY.toString()),void v.setAttribute("y",d.actualY.toString())}var g,y,w,b,C;g=n.nextElementSibling,w=(y=d).defaultY+s,b=o.createRowInfoOverlay(y,w,t),(C=b.querySelector("img.preview"))&&!C.src&&C.setAttribute("src",C.attributes.getNamedItem("data-src").value),b.querySelector("a").addEventListener("keydown",e.firstElKeypress),r.getLastItemOfNodeList(b.querySelectorAll("button")).addEventListener("keydown",e.lastElKeypress),g.appendChild(b),l(y,w,b.getBoundingClientRect().height)}else p&&null!==c&&(c.querySelector("a").removeEventListener("keydown",e.firstElKeypress),r.getLastItemOfNodeList(c.querySelectorAll("button")).removeEventListener("keydown",e.lastElKeypress),r.removeChildren(c))})},e.showFullName=function(e){e.getElementsByClassName("row-fixed").item(0).dispatchEvent(new MouseEvent("mouseenter"))},e.firstElKeypress=function(t){if(i.isTabUp(t)){var n=r.getParentByClassName(t.target,"row-overlay-holder");n&&n.previousElementSibling&&e.showFullName(n.previousElementSibling)}},e.lastElKeypress=function(t){if(i.isTabDown(t)){var n=r.getParentByClassName(t.target,"row-overlay-holder");n&&n.nextElementSibling&&e.showFullName(n.nextElementSibling)}},e}();n.OverlayManager=a,n.default=a},{"../../helpers/dom":1,"../../helpers/misc":4,"./svg-details-overlay":19}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(){this.subscribers=[]}return e.prototype.subscribeToOverlayChanges=function(e){this.subscribers.push(e)},e.prototype.subscribeToSpecificOverlayChanges=function(e,t){this.subscribers.push(function(n){n.changedIndex===e&&t(n)})},e.prototype.publishToOverlayChanges=function(e){this.subscribers.forEach(function(t){return t(e)})},e}();n.PubSub=r,n.default=r},{}],19:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/dom"),i=e("../../helpers/svg"),o=e("./html-details-body");n.createRowInfoOverlay=function(e,t,n){var a,s,l,u,d,c,p=e.index+1,h=(a=t,s=n,l=i.newG("info-overlay-holder"),u=i.newRect({height:s,rx:2,ry:2,width:"100%",x:"0",y:a},"info-overlay-bg"),l.appendChild(u),l),f=i.newForeignObject({height:n,width:"100%",x:"0",y:t}),v=(d=t,(c=i.newA("info-overlay-close-btn")).appendChild(i.newRect({height:23,width:23,x:"100%",y:d})),c.appendChild(i.newTextEl("✕",{dx:7,dy:16,x:"100%",y:d})),c.appendChild(i.newTitle("Close Overlay")),c);v.addEventListener("click",function(){return e.onClose(e.index)});var m=o.createDetailsBody(p,n,e.entry),g=function(){return m.getElementsByClassName("tab-button")},y=function(t){e.openTabIndex=t,r.forEachNodeList(m.getElementsByClassName("tab"),function(e,n){e.style.display=t===n?"block":"none",g().item(n).classList.toggle("active",t===n)})};return r.forEachNodeList(g(),function(e,t){e.addEventListener("click",function(){return y(t)})}),y(e.openTabIndex),f.appendChild(m),h.appendChild(f),h.appendChild(v),h}},{"../../helpers/dom":1,"../../helpers/svg":6,"./html-details-body":16}],20:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/misc");function i(e,t){return{type:e,title:t,width:20}}n.makeIcon=i,n.getIndicatorIcons=function(e){var t=e.responseDetails.indicators.filter(function(e){return"icon"===e.displayType});if(0===t.length)return[];var n=[],o="",a=t.filter(function(e){return"error"===e.type}),s=t.filter(function(e){return"warning"===e.type}),l=t.filter(function(e){return"error"!==e.type&&"warning"!==e.type});return a.length>0&&(n.push(r.pluralize("Error",a.length)+":\n "+a.map(function(e){return e.title}).join("\n")),o="error"),s.length>0&&(n.push(r.pluralize("Warning",s.length)+":\n"+s.map(function(e){return e.title}).join("\n")),o=o||"warning"),l.length>0&&(n.push("Info:\n"+l.map(function(e){return e.title}).join("\n")),o=o||1!==l.length?o||"info":l[0].icon||l[0].type),[i(o,n.join("\n"))]}},{"../../helpers/misc":4}],21:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/dom"),i=e("../../helpers/misc"),o=e("../../helpers/svg"),a=e("../../transformers/styling-converters"),s=e("./svg-tooltip");function l(e,t){var n,a,l=o.newG(""),u=e.height-1,d=i.roundNumber(e.x/e.unit)+"%",c=o.newRect({height:u,width:i.roundNumber(e.width/e.unit)+"%",x:d,y:e.y},t);(l.appendChild(c),e.label)&&(c.addEventListener("mouseenter",function(){a||(a=r.getParentByClassName(c,"water-fall-chart").querySelector(".tooltip")),n=setTimeout(function(){n=null,s.onHoverInShowTooltip(c,e,a)},100)}),c.addEventListener("mouseleave",function(){n?clearTimeout(n):s.onHoverOutShowTooltip(c)}));return e.showOverlay&&e.hideOverlay&&(c.addEventListener("mouseenter",e.showOverlay(e)),c.addEventListener("mouseleave",e.hideOverlay(e))),l}function u(e,t,n,r){var a=i.resourceUrlFormatter(n,125);t=t+Math.round(r/2)+5;var s=o.newTextEl(a,{x:e,y:t});return s.appendChild(o.newTitle(n)),s.style.opacity=n.match(/js.map$/)?"0.5":"1",s}n.createRect=function(e,t){var n,r,s,u,d,c,p,h,f,v,m,g=t.segments,y=l(e,"time-block "+e.cssClass),w=o.newG("rect-holder"),b=e.x;return w.appendChild(y),g&&g.length>0&&(g.forEach(function(t){if(!isNaN(t.total)&&t.total>0&&"number"==typeof t.start){var n=(i=t,o=e,s=isNaN(i.total)?"":"<br/>total: "+Math.round(i.total)+"ms",{cssClass:a.timingTypeToCssClass(i.type),height:o.height-6,hideOverlay:o.hideOverlay,label:"<strong>"+i.type+"</strong><br/>"+Math.round(i.start)+"ms - "+Math.round(i.end)+"ms"+s,showOverlay:o.showOverlay,unit:o.unit,width:i.total,x:i.start||.001,y:o.y}),r=l(n,"segment "+n.cssClass);b=Math.min(b,n.x),w.appendChild(r)}var i,o,s}),i.find(t.responseDetails.indicators,function(e){return"push"===e.id})&&w.appendChild((f=(h=e).y+h.height/1.5,v=i.roundNumber(h.x/h.unit)+"%",(m=o.newG("http2-inidicator-holder")).appendChild(o.newTextEl("→",{transform:"translate(-5)",x:v,y:f},{fillOpacity:"0.6","text-anchor":"end"})),m.appendChild(o.newTitle("http2 Push")),m)),w.appendChild((n=e,r=t.total,s=b,u=n.y+n.height/1.5,d=Math.round(r)+" ms",c=(n.x+n.width)/n.unit+1,p=o.newTextEl(d,{x:i.roundNumber(c)+"%",y:u}),c+8*d.length/500*100>100&&(c=s/n.unit-1,p=o.newTextEl(d,{x:i.roundNumber(c)+"%",y:u},{textAnchor:"end"})),p))),w},n.createRequestNumberLabel=function(e,t,n,r,i){return t+=Math.round(r/2)+5,e+=i,o.newTextEl(n,{x:e,y:t},{"text-anchor":"end"})},n.createRequestLabelClipped=function(e,t,n,r){var i=u(e,t,n,r);return i.style.clipPath="url(#titleClipPath)",i},n.createRequestLabelFull=function(e,t,n,r){var i=u(e,t,n,r),a=o.newG("full-label",{},{clipPath:"url(#titleFullClipPath)"});return a.appendChild(o.newRect({height:r-4,rx:5,ry:5,width:500,x:e-3,y:t+3},"label-full-bg")),a.appendChild(i),a};var d="function"==typeof window.requestAnimationFrame&&"function"==typeof window.cancelAnimationFrame;n.appendRequestLabels=function(e,t,n,r){var i=r.getElementsByTagName("rect")[0],o=r.getElementsByTagName("text")[0];r.style.display="none",r.style.visibility="hidden",e.appendChild(t),e.appendChild(n),e.appendChild(r);var a,s=!1;e.addEventListener("mouseenter",function(){r.style.display="block",n.style.display="none",r.style.visibility="visible";var e=function(){var e=o.getComputedTextLength()+10;i.setAttribute("width",e.toString()),s=!0,a=void 0};s||(d?a=window.requestAnimationFrame(e):e())}),e.addEventListener("mouseleave",function(){n.style.display="block",r.style.display="none",r.style.visibility="hidden",d&&void 0!==a&&cancelAnimationFrame(a)})},n.createBgStripe=function(e,t,n){var r=n?"even":"odd";return o.newRect({height:t,width:"100%",x:0,y:e},r)},n.createNameRowBg=function(e,t){var n=o.newG("row row-fixed");return n.appendChild(o.newRect({height:t,width:"100%",x:"0",y:e},"",{opacity:0})),n},n.createRowBg=function(e,t){var n=o.newG("row row-flex");return n.appendChild(o.newRect({height:t,width:"100%",x:"0",y:e},"",{opacity:0})),n}},{"../../helpers/dom":1,"../../helpers/misc":4,"../../helpers/svg":6,"../../transformers/styling-converters":15,"./svg-tooltip":23}],22:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/icons"),i=e("../../helpers/misc"),o=e("../../helpers/svg"),a=e("./svg-indicators"),s=e("./svg-row-subcomponents"),l=o.newClipPath("titleClipPath");l.appendChild(o.newRect({height:"100%",width:"100%"}));var u=o.newClipPath("titleFullClipPath");u.appendChild(o.newRect({height:"100%",width:"100%"}));var d=3;n.createRow=function(e,t,n,c,p,h,f){var v=p.y,m=p.height,g=e.options.leftColumnWidth,y=o.newA(h.responseDetails.rowClass||"");y.setAttribute("tabindex","0"),y.setAttribute("xlink:href","javascript:void(0)");var w=o.newSvg("left-fixed-holder",{width:g+"%",x:"0"}),b=o.newSvg("flex-scale-waterfall",{width:100-g+"%",x:g+"%"}),C=s.createRect(p,h),x=s.createNameRowBg(v,m),T=s.createRowBg(v,m),q=s.createBgStripe(v,m,t%2==0),S=d+n;if(e.options.showMimeTypeIcon){var E=h.responseDetails.icon;S-=E.width,x.appendChild(r[E.type](S,v+3,E.title))}e.options.showIndicatorIcons&&a.getIndicatorIcons(h).forEach(function(e){S-=e.width,x.appendChild(r[e.type](S,v+3,e.title))}),S=d+n;var M=""+(t+1),_=s.createRequestNumberLabel(S,v,M,m,c);S+=c+4;var L,O,P=s.createRequestLabelClipped(S,v,i.resourceUrlFormatter(h.url,40),m),N=s.createRequestLabelFull(S,v,h.url,m);return T.appendChild(C),s.appendRequestLabels(x,_,P,N),e.pubSub.subscribeToSpecificOverlayChanges(t,function(e){L="open"===e.type}),t>0&&e.pubSub.subscribeToSpecificOverlayChanges(t-1,function(e){O="open"===e.type}),y.addEventListener("click",function(e){e.preventDefault(),f(e)}),y.addEventListener("keydown",function(e){var n=e;if(32===n.which||13===n.which)return n.preventDefault(),f(n);i.isTabUp(n)&&!O&&t>0?y.previousSibling&&y.previousSibling.previousSibling&&y.previousSibling.previousSibling.lastChild&&y.previousSibling.previousSibling.lastChild.lastChild&&y.previousSibling.previousSibling.lastChild.lastChild.dispatchEvent(new MouseEvent("mouseenter")):!i.isTabDown(n)||L||y.nextSibling&&y.nextSibling.nextSibling&&y.nextSibling.nextSibling.lastChild&&y.nextSibling.nextSibling.lastChild.lastChild&&y.nextSibling.nextSibling.lastChild.lastChild.dispatchEvent(new MouseEvent("mouseenter"))}),y.addEventListener("focusout",function(){x.dispatchEvent(new MouseEvent("mouseleave"))}),b.appendChild(T),w.appendChild(l.cloneNode(!0)),w.appendChild(x),y.appendChild(u.cloneNode(!0)),y.appendChild(q),y.appendChild(b),y.appendChild(w),y}},{"../../helpers/icons":3,"../../helpers/misc":4,"../../helpers/svg":6,"./svg-indicators":20,"./svg-row-subcomponents":21}],23:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/dom"),i=e("../../helpers/svg"),o=/(?:translate)\(.+[, ]+(.+)\)/;n.onHoverInShowTooltip=function(e,t,n){var i=n.querySelector(".tooltip-payload"),a=function(e){void 0===e&&(e=""),e=null===e?"":e;var t=o.exec(e);return t&&t.length>=2?parseInt(t[1],10):0}(r.getParentByClassName(e,"row-item").getAttribute("transform")),s=parseInt(e.getAttribute("y")||"",10),l=e.getAttribute("x")||"",u=parseFloat(l),d=50,c=e.width.baseVal.value||e.getBoundingClientRect().width,p=c/(t.width/t.unit),h=t.width/t.unit/c,f=u>50&&(95-u)*p<200;i.innerHTML=t.label||"",r.addClass(i,"no-anim"),n.style.display="block",i.style.opacity="0.01";var v=i.clientHeight+5;if(d=s+a-v>0?a-v:a+t.height+10,f){var m=u-(i.clientWidth+5)*h,g=parseInt(n.querySelector("body").style.left||"",10);g*=1/(.01*(100-g)),i.style.left=m>-g?m+"%":-g+"%"}else i.style.left=l;n.setAttribute("y",""+(s+d)),n.setAttribute("height",v.toString()),r.removeClass(i,"no-anim"),i.style.opacity="1";var y=i.clientHeight+5-v;0!==y&&(n.setAttribute("height",(v+y).toString()),n.setAttribute("y",""+(s+d-y)))},n.onHoverOutShowTooltip=function(e){var t=r.getParentByClassName(e,"water-fall-chart").querySelector(".tooltip"),n=t.querySelector(".tooltip-payload");t.style.display="none",t.setAttribute("height","250"),n.style.opacity="0"},n.makeTooltip=function(e){var t=e.leftColumnWidth,n=i.newSvg("tooltip-holder",{width:"100%",x:"0",y:"0"}),o=i.newForeignObject({width:"100%",x:"0",y:t+"%"},"tooltip",{display:"none"}),a=r.makeHtmlEl(),s=r.makeBodyEl({left:t+"%",width:100-t+"%"},'<div class="tooltip-payload" style="max-width: 200px; opacity: 0;"></div>');return a.appendChild(s),o.appendChild(a),n.appendChild(o),n}},{"../../helpers/dom":1,"../../helpers/svg":6}],24:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/dom"),i=e("../../helpers/svg");n.createAlignmentLines=function(e){return{endline:i.newLine({x1:"0",x2:"0",y1:"0",y2:e},"line-end"),startline:i.newLine({x1:"0",x2:"0",y1:"0",y2:e},"line-start")}},n.makeHoverEvtListeners=function(e){return{onMouseEnterPartial:function(){return function(t){var n=t.target;r.addClass(n,"active");var i=n.x.baseVal.valueInSpecifiedUnits+n.width.baseVal.valueInSpecifiedUnits+"%",o=n.x.baseVal.valueInSpecifiedUnits+"%";e.endline.x1.baseVal.valueAsString=i,e.endline.x2.baseVal.valueAsString=i,e.startline.x1.baseVal.valueAsString=o,e.startline.x2.baseVal.valueAsString=o,r.addClass(e.endline,"active"),r.addClass(e.startline,"active")}},onMouseLeavePartial:function(){return function(t){var n=t.target;r.removeClass(n,"active"),r.removeClass(e.endline,"active"),r.removeClass(e.startline,"active")}}}}},{"../../helpers/dom":1,"../../helpers/svg":6}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/misc"),i=e("../../helpers/svg"),o=function(e,t,n,o,a){void 0===a&&(a=!1);var s,l,u=e.diagramHeight,d=100/n,c="sub-second-line";if(a){var p=o>n-.2;c="second-line",l=r.roundNumber(d*o)+.5+"%";var h={};p&&(l=r.roundNumber(d*o)-.5+"%",h["text-anchor"]="end"),s=i.newTextEl(o+"s",{x:l,y:u},h)}l=r.roundNumber(d*o)+"%";var f=i.newLine({x1:l,x2:l,y1:0,y2:u},c);e.pubSub.subscribeToOverlayChanges(function(e){var t=e.combinedOverlayHeight,n=(u+t)/u;f.setAttribute("transform","scale(1, "+n+")"),a&&s.setAttribute("transform","translate(0, "+t+")")}),t.appendChild(f),a&&t.appendChild(s)};n.createTimeScale=function(e,t){for(var n=i.newG("time-scale full-width"),r=200*Math.ceil(t/1e4),a=1e3/r,s=t/1e3,l=t/r,u=0;u<=l;u++)o(e,n,s,u/a,u%a<1e-9);return n}},{"../../helpers/misc":4,"../../helpers/svg":6}],26:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("../../helpers/dom"),i=e("../../helpers/misc"),o=e("../../helpers/svg");function a(e,t){var n=o.newG("line-mark-holder line-marker-"+i.toCssClass(t.name));return n.appendChild(o.newTitle(t.name.replace(/^startTimer-/,""))),n.appendChild(o.newRect({height:e.diagramHeight,width:(t.duration||1)/e.unit+"%",x:(t.startTime||.001)/e.unit+"%",y:0},"line-mark")),n}n.createMarks=function(e,t){var n=e.diagramHeight,s=o.newG("marker-holder",{transform:"scale(1, 1)"});return t.forEach(function(l,u){var d,c=i.roundNumber(l.startTime/e.unit),p=o.newG("mark-holder type-"+l.name.toLowerCase().replace(/([0-9]+[ ]?ms)|\W/g,"")),h=o.newG("line-holder"),f=o.newG("line-label-holder"),v=o.newTextEl(l.name,{x:c+"%",y:n+25});v.setAttribute("writing-mode","tb"),l.x=c;var m=o.newLine({x1:c+"%",x2:c+"%",y1:0,y2:n}),g=t[u-1];g&&void 0!==g.x&&l.x-g.x<2.5&&(v.setAttribute("x",g.x+2.5+"%"),l.x=g.x+2.5);var y=o.newLine({x1:c+"%",x2:l.x+"%",y1:n,y2:n+23});h.appendChild(m),h.appendChild(y),l.duration&&(d=a(e,l),h.appendChild(d)),e.pubSub.subscribeToOverlayChanges(function(e){var t=e.combinedOverlayHeight,r=(n+t)/n;m.setAttribute("transform","scale(1, "+r+")"),f.setAttribute("transform","translate(0, "+t+")"),y.setAttribute("transform","translate(0, "+t+")"),d&&d.setAttribute("transform","translate(0, "+t+")")});var w=!1,b=!1;v.addEventListener("mouseenter",function(){w||(p.parentNode.appendChild(p),w=!0,"function"==typeof window.requestAnimationFrame?window.requestAnimationFrame(function(){return r.addClass(h,"active")}):r.addClass(h,"active"))}),v.addEventListener("mouseleave",function(){w=!1,b||r.removeClass(h,"active")}),v.addEventListener("click",function(){b?(w=!1,r.removeClass(h,"active")):w?w=!1:r.addClass(h,"active"),b=!b}),f.appendChild(v),p.appendChild(o.newTitle(l.name)),p.appendChild(h),p.appendChild(f),s.appendChild(p)}),s},n.createLineRect=a},{"../../helpers/dom":1,"../../helpers/misc":4,"../../helpers/svg":6}],27:[function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../helpers/svg"),o=e("../transformers/styling-converters"),a=e("./details-overlay/overlay-manager"),s=e("./details-overlay/pub-sub"),l=e("./row/svg-row"),u=e("./row/svg-tooltip"),d=e("./sub-components/svg-alignment-helper"),c=e("./sub-components/svg-general-components"),p=e("./sub-components/svg-marks");n.createWaterfallSvg=function(e,t){var n,h,f,v,m,g,y,w,b,C=e.entries.filter(function(e){return"number"==typeof e.start&&"number"==typeof e.total}).sort(function(e,t){return(e.start||0)-(t.start||0)}),x=i.newG("overlays"),T=i.newG("rows-holder"),q=(n=t,h=C,f=e.durationMs/100,v={diagramHeight:(h.length+1)*n.rowHeight,options:n,pubSub:new s.PubSub,unit:f},r({},v,{overlayManager:new a.default(v)})),S=(m=e.marks,g=q.diagramHeight,y=m.reduce(function(e,t){return Math.max(e,i.getNodeTextWidth(i.newTextEl(t.name,{x:0,y:0}),!0))},0),Math.floor(g+y+35)),E=i.newSvg("water-fall-chart",{height:S}),M=i.newSvg("scale-and-marks-holder",{width:100-t.leftColumnWidth+"%",x:t.leftColumnWidth+"%"});if(t.showAlignmentHelpers){w=i.newG("hover-overlays");var _=d.createAlignmentLines(q.diagramHeight);w.appendChild(_.startline),w.appendChild(_.endline),b=d.makeHoverEvtListeners(_)}M.appendChild(c.createTimeScale(q,e.durationMs)),M.appendChild(p.createMarks(q,e.marks));var L=C[0].responseDetails.icon.width,O=0;if(t.showMimeTypeIcon&&(O+=1),t.showIndicatorIcons){var P=C.map(function(e){return e.responseDetails.indicators.filter(function(e){return"icon"===e.displayType}).length>0?1:0});O+=Math.max.apply(null,P)}var N=O*L,I=function(e){for(var t=Math.floor(Math.log(e)/Math.LN10)+1,n="",r=0;r<t;r++)n+="0";return n}(C.length),H=i.getNodeTextWidth(i.newTextEl(""+I),!0),A=[];return q.pubSub.subscribeToOverlayChanges(function(){var e=S+q.overlayManager.getCombinedOverlayHeight();E.classList.toggle("closing",e<E.clientHeight),E.style.height=e+"px"}),C.forEach(function(e,n){var r=e.total||1,a=t.rowHeight*n,s=e.start||.001,u={cssClass:o.requestTypeToCssClass(e.responseDetails.requestType),height:t.rowHeight,hideOverlay:t.showAlignmentHelpers?b.onMouseLeavePartial:void 0,label:"<strong>"+e.url+"</strong><br/>"+Math.round(e.start)+"ms - "+Math.round(e.end)+"ms<br/>total: "+(isNaN(e.total)?"n/a ":Math.round(e.total))+"ms",showOverlay:t.showAlignmentHelpers?b.onMouseEnterPartial:void 0,unit:q.unit,width:r,x:s,y:a},d=l.createRow(q,n,N,H,u,e,function(){q.overlayManager.toggleOverlay(n,a+t.rowHeight,450,e,A)});A.push(d),T.appendChild(d),T.appendChild(i.newG("row-overlay-holder"))}),t.showAlignmentHelpers&&void 0!==w&&M.appendChild(w),E.appendChild(M),E.appendChild(T),E.appendChild(x),E.appendChild(u.makeTooltip(t)),E}},{"../helpers/svg":6,"../transformers/styling-converters":15,"./details-overlay/overlay-manager":17,"./details-overlay/pub-sub":18,"./row/svg-row":22,"./row/svg-tooltip":23,"./sub-components/svg-alignment-helper":24,"./sub-components/svg-general-components":25,"./sub-components/svg-marks":26}]},{},[8])(8)});