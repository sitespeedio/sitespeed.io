version: '3'
services:
    graphite:
      image: sitespeedio/graphite:1.1.5-12
      ports:
        - "2003:2003"
        - "8080:80" 
    gcs:
      image: fsouza/fake-gcs-server:1.50
      ports: 
       - "8081:8081"
      container_name: fake-gcs
      command: ["-scheme", "http", "-port", "8081", "-external-url", "http://localhost:8081", "-backend", "memory"]
    influxdb_v1.8:
      image: influxdb:1.8
      ports:
        - '8086:8086'
      environment:
      - INFLUXDB_DB=sitespeed
    influxdb_v2.6:
      image: influxdb:2.6.1
      ports:
        - '8087:8086'
      environment:
      - DOCKER_INFLUXDB_INIT_MODE=setup
      - DOCKER_INFLUXDB_INIT_USERNAME=sitespeed
      - DOCKER_INFLUXDB_INIT_PASSWORD=sitespeed
      - DOCKER_INFLUXDB_INIT_ORG=sitespeed
      - DOCKER_INFLUXDB_INIT_BUCKET=sitespeed
      - DOCKER_INFLUXDB_INIT_ADMIN_TOKEN=sitespeed